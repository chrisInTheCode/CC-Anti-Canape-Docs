
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../how-to-guides/getSdoIndex/">
      
      
        <link rel="next" href="../readers/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.8">
    
    
      
        <title>Automator - Anti-Canape Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4b4a2bd9.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#drivers.automator" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Anti-Canape Docs" class="md-header__button md-logo" aria-label="Anti-Canape Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Anti-Canape Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Automator
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Anti-Canape Docs" class="md-nav__button md-logo" aria-label="Anti-Canape Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Anti-Canape Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tutorials
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    How-To Guides
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            How-To Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CAN Messages
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            CAN Messages
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/writingCanMsg/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Writing CAN Messages
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/readingCanMsg/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reading CAN Messages
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SDO Messages
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            SDO Messages
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/writingSdoParam/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Writing SDO Messages
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/readingSdoParam/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reading SDO Messages
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/gettingSdoResponse/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Get SDO Response Message
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Script Manager
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Script Manager
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/automatorGetABus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting a CAN Bus
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/writingSdoDict/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Writing a SDO Dictionary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/readingSdoList/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reading a SDO List
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/addAScript/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Adding to the Script Manager
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/runAScript/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running a Script
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DBC and DOT
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            DBC and DOT
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/loadDbc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Load a new DBC file
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/loadDot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Load a new DOT file
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/loadSavedDbcDictionaries/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Load saved DBC dictionaries
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/loadSavedDotDictionaries/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Load saved DOT dictionaries
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/getSignalDictionary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Get CAN Message
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/getSdoIndex/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Get SDO Index
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Library API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Library API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Automator
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Automator
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#drivers.automator" class="md-nav__link">
    automator
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drivers.automator.AntiCanapeError" class="md-nav__link">
    AntiCanapeError
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drivers.automator.BusOverloadError" class="md-nav__link">
    BusOverloadError
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drivers.automator.SdoScriptManager" class="md-nav__link">
    SdoScriptManager
  </a>
  
    <nav class="md-nav" aria-label="SdoScriptManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#drivers.automator.SdoScriptManager.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.automator.SdoScriptManager.getDefaultBus" class="md-nav__link">
    getDefaultBus()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.automator.SdoScriptManager.script_configureSdo" class="md-nav__link">
    script_configureSdo()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.automator.SdoScriptManager.script_readFaultsTest" class="md-nav__link">
    script_readFaultsTest()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.automator.SdoScriptManager.script_writeDstTest" class="md-nav__link">
    script_writeDstTest()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.automator.SdoScriptManager.script_writeVehicleConfigActiveTest" class="md-nav__link">
    script_writeVehicleConfigActiveTest()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drivers.automator.sdoAutomator" class="md-nav__link">
    sdoAutomator
  </a>
  
    <nav class="md-nav" aria-label="sdoAutomator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#drivers.automator.sdoAutomator.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.automator.sdoAutomator.readSdoList" class="md-nav__link">
    readSdoList()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.automator.sdoAutomator.writeSdoDict" class="md-nav__link">
    writeSdoDict()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../readers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reader
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../writers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Writer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../dbcAutoParse/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DBC Parse
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../dotAutoParse/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DOT Parse
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../explanation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Project Background
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#drivers.automator" class="md-nav__link">
    automator
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drivers.automator.AntiCanapeError" class="md-nav__link">
    AntiCanapeError
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drivers.automator.BusOverloadError" class="md-nav__link">
    BusOverloadError
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drivers.automator.SdoScriptManager" class="md-nav__link">
    SdoScriptManager
  </a>
  
    <nav class="md-nav" aria-label="SdoScriptManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#drivers.automator.SdoScriptManager.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.automator.SdoScriptManager.getDefaultBus" class="md-nav__link">
    getDefaultBus()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.automator.SdoScriptManager.script_configureSdo" class="md-nav__link">
    script_configureSdo()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.automator.SdoScriptManager.script_readFaultsTest" class="md-nav__link">
    script_readFaultsTest()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.automator.SdoScriptManager.script_writeDstTest" class="md-nav__link">
    script_writeDstTest()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.automator.SdoScriptManager.script_writeVehicleConfigActiveTest" class="md-nav__link">
    script_writeVehicleConfigActiveTest()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drivers.automator.sdoAutomator" class="md-nav__link">
    sdoAutomator
  </a>
  
    <nav class="md-nav" aria-label="sdoAutomator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#drivers.automator.sdoAutomator.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.automator.sdoAutomator.readSdoList" class="md-nav__link">
    readSdoList()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.automator.sdoAutomator.writeSdoDict" class="md-nav__link">
    writeSdoDict()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Automator</h1>

<p><strong>CC Anti-Canape: Automation-Building Interface Application</strong></p>
<p>Author: Chris Hinkson<br />
   Email: Christopher.Hinkson@clubcar.com  </p>
<p>Desc: This application is designed to provide automation for SDO transmission alongisde the rest of the Anti-Canape Package.  </p>
<p>Github: https://github.com/chrisInTheCode/CC-Anti-Canape<br />
   --&gt; To get access to the github repository, please send me an email at the above address  </p>
<p>References:<br />
   --&gt; https://python-can.readthedocs.io/en/stable/<br />
   --&gt; https://cantools.readthedocs.io/en/latest/  </p>


<div class="doc doc-object doc-module">



<a id="drivers.automator"></a>
  <div class="doc doc-contents first">

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h2 id="drivers.automator.AntiCanapeError" class="doc doc-heading">
          <code>AntiCanapeError</code>


</h2>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code>Exception</code></p>

  
      <p>For general errors with anything.</p>

            <details class="quote">
              <summary>Source code in <code>drivers\automator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">59</span>
<span class="normal">60</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">AntiCanapeError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;For general errors with anything.&#39;&#39;&#39;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>

</div>

<div class="doc doc-object doc-class">




<h2 id="drivers.automator.BusOverloadError" class="doc doc-heading">
          <code>BusOverloadError</code>


</h2>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code>Exception</code></p>

  
      <p>Exception for when the bus is overloaded!</p>

            <details class="quote">
              <summary>Source code in <code>drivers\automator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">56</span>
<span class="normal">57</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">BusOverloadError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Exception for when the bus is overloaded!&#39;&#39;&#39;</span>
</code></pre></div></td></tr></table></div>
            </details>

  </div>

</div>

<div class="doc doc-object doc-class">




<h2 id="drivers.automator.SdoScriptManager" class="doc doc-heading">
          <code>SdoScriptManager</code>


</h2>


  <div class="doc doc-contents ">

  
      <p>The script manager class is defined to provide an object-orientated script service for the automation of SDO message transmission.</p>



<p><strong>Examples:</strong></p>
    <p>myScriptManager = SdoScriptManager('pcan')
myBusInstance = getDefaultBus(self.bus)
myScriptManager.script_writeVehicleConfigActiveTest()</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>driver</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A string representing the driver/dongle to use for CAN bus creation and communication.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>drivers\automator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">SdoScriptManager</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39; The script manager class is defined to provide an object-orientated script service for the automation of SDO message transmission.</span>

<span class="sd">    Examples:</span>
<span class="sd">        myScriptManager = SdoScriptManager(&#39;pcan&#39;)</span>
<span class="sd">        myBusInstance = getDefaultBus(self.bus)</span>
<span class="sd">        myScriptManager.script_writeVehicleConfigActiveTest()</span>

<span class="sd">    Attributes:</span>
<span class="sd">        driver: A string representing the driver/dongle to use for CAN bus creation and communication.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="c1">########################</span>
    <span class="c1"># CLASS INITIALIZATION #</span>
    <span class="c1">########################</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">driver</span><span class="p">:</span><span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; The script manager class is defined to provide an object-orientated script service for the automation of SDO message transmission.</span>

<span class="sd">        Args:</span>
<span class="sd">            driver (str): The driver (dongle) to use.</span>
<span class="sd">        &#39;&#39;&#39;</span>     
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: A New Scripting Object Has Been Created For The&quot;</span><span class="p">,</span> <span class="n">driver</span><span class="p">,</span> <span class="s2">&quot;Dongle!&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span> <span class="o">=</span> <span class="n">driver</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">threadTimeout</span> <span class="o">=</span> <span class="kc">None</span>



    <span class="c1">##########################</span>
    <span class="c1"># CAN BUS INITIALIZATION #</span>
    <span class="c1">##########################</span>
    <span class="k">def</span> <span class="nf">getDefaultBus</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">driver</span><span class="p">:</span><span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ThreadSafeBus</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Gets the default (configured) bus for a driver, based on in-house (Club Car) dongles.</span>
<span class="sd">        Reference: [https://python-can.readthedocs.io/en/stable/configuration.html#interface-names]</span>

<span class="sd">        Args:</span>
<span class="sd">            driver (str): The driver (dongle) to use. Acceptable values are &#39;kvaser&#39;, &#39;pcan&#39;, or &#39;vector&#39;.</span>

<span class="sd">        Returns:</span>
<span class="sd">            ThreadSafeBus: The correct bus for the given driver that is safe for several thread dependencies.</span>
<span class="sd">        &#39;&#39;&#39;</span>        
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Default kvaser bus, channel, and byterate</span>
            <span class="c1"># [https://python-can.readthedocs.io/en/stable/interfaces/kvaser.html#kvaser-s-canlib]</span>
            <span class="k">if</span> <span class="n">driver</span><span class="o">.</span><span class="n">casefold</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;kvaser&#39;</span><span class="o">.</span><span class="n">casefold</span><span class="p">():</span>
                <span class="c1"># Create thread-safe CAN Bus using driver backend</span>
                <span class="c1"># [https://python-can.readthedocs.io/en/stable/configuration.html]</span>
                <span class="c1"># [https://python-can.readthedocs.io/en/stable/bus.html#can.ThreadSafeBus]</span>
                <span class="n">kvaserBus</span> <span class="o">=</span> <span class="n">ThreadSafeBus</span><span class="p">(</span><span class="n">interface</span><span class="o">=</span><span class="s1">&#39;kvaser&#39;</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">bitrate</span><span class="o">=</span><span class="mi">500000</span><span class="p">)</span>
                <span class="n">kvaserBus</span><span class="o">.</span><span class="n">single_handle</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">return</span> <span class="n">kvaserBus</span>
        <span class="c1"># Indicates an error occured while initializing bus</span>
        <span class="c1"># [https://python-can.readthedocs.io/en/stable/errors.html#can.exceptions.CanInitializationError]</span>
        <span class="k">except</span> <span class="n">CanInitializationError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: An error has occured when creating the kvaser Bus!&quot;</span><span class="p">)</span> 
            <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="s2">&quot;: &quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Default pcan bus, channel, and byterate</span>
            <span class="c1"># [https://python-can.readthedocs.io/en/stable/interfaces/pcan.html]</span>
            <span class="c1"># [https://python-can.readthedocs.io/en/stable/bus.html#can.ThreadSafeBus]</span>
            <span class="k">if</span> <span class="n">driver</span><span class="o">.</span><span class="n">casefold</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;pcan&#39;</span><span class="o">.</span><span class="n">casefold</span><span class="p">():</span>
                <span class="c1"># Create thread-safe CAN Bus using driver backend</span>
                <span class="c1"># [https://python-can.readthedocs.io/en/stable/configuration.html]</span>
                <span class="c1"># [https://python-can.readthedocs.io/en/stable/interfaces/pcan.html]</span>
                <span class="n">pcanBus</span> <span class="o">=</span> <span class="n">ThreadSafeBus</span><span class="p">(</span><span class="n">interface</span><span class="o">=</span><span class="s1">&#39;pcan&#39;</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="s1">&#39;PCAN_USBBUS1&#39;</span><span class="p">,</span> <span class="n">bitrate</span><span class="o">=</span><span class="mi">500000</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">pcanBus</span>
        <span class="c1"># Indicates an error occured while initializing bus</span>
        <span class="c1"># [https://python-can.readthedocs.io/en/stable/errors.html#can.exceptions.CanInitializationError]</span>
        <span class="k">except</span> <span class="n">CanInitializationError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: An error has occured when creating the PCAN Bus!&quot;</span><span class="p">)</span> 
            <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="s2">&quot;: &quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Default vector bus, channel, and app</span>
            <span class="c1"># [https://python-can.readthedocs.io/en/stable/interfaces/vector.html]</span>
            <span class="k">if</span> <span class="n">driver</span><span class="o">.</span><span class="n">casefold</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;vector&#39;</span><span class="o">.</span><span class="n">casefold</span><span class="p">():</span>
                <span class="c1"># Create thread-safe CAN Bus using driver backend</span>
                <span class="c1"># [https://python-can.readthedocs.io/en/stable/configuration.html]</span>
                <span class="c1"># [https://python-can.readthedocs.io/en/stable/bus.html#can.ThreadSafeBus]</span>
                <span class="n">vectorBus</span> <span class="o">=</span> <span class="n">ThreadSafeBus</span><span class="p">(</span><span class="n">interface</span><span class="o">=</span><span class="s1">&#39;vector&#39;</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="s2">&quot;0, 1&quot;</span><span class="p">,</span> <span class="n">app_name</span><span class="o">=</span><span class="s2">&quot;Anti-Canape&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">vectorBus</span>
        <span class="c1"># Indicates an error occured while initializing bus</span>
        <span class="c1"># [https://python-can.readthedocs.io/en/stable/errors.html#can.exceptions.CanInitializationError]</span>
        <span class="k">except</span> <span class="n">CanInitializationError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: An error has occured when creating the vector Bus!&quot;</span><span class="p">)</span> 
            <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="s2">&quot;: &quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span>


    <span class="c1">###############################################</span>
    <span class="c1"># SCRIPT 1 - Vehicle Config Active Write Test #</span>
    <span class="c1">###############################################</span>

    <span class="k">def</span> <span class="nf">script_writeVehicleConfigActiveTest</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeDelayIn</span><span class="p">:</span><span class="nb">float</span><span class="o">=</span><span class="mf">0.03</span><span class="p">,</span> <span class="n">iterations</span><span class="p">:</span><span class="nb">int</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span><span class="nb">int</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; This script is designed to implement the functionality of Anti-Canape objects in order to test writing the vehicle config active SDO messages. It will continually write the VehicleConfig_Active SDO messages from the DOT to the VCM for the specified amount of iterations. </span>

<span class="sd">        This script tests the SDO messages by reading the initial value of a SDO parameter present on the VCM, writing a randomized value in the range for each SDO parameter to the VCM, then reading the final value for the SDO parameter present on the VCM. If the value was correctly updated, then the test for that parameter passes.</span>

<span class="sd">        It will track all correct and error iterations and present them all to the user at the end of script execution.</span>

<span class="sd">        Args:</span>
<span class="sd">            timeDelayIn (float, optional): The delay (in seconds) that the program should wait before sending another SDO message. Defaults to 0.03.</span>
<span class="sd">            iterations (int, optional): The amount of times the test should be run. Defaults to 1.</span>
<span class="sd">            timeout (int): The timeout in seconds for reading the message from the bus. Defaults to None. If None, thread continues indefinitely.</span>

<span class="sd">        Returns:</span>
<span class="sd">            [passes, fails] (list): A list containing the amount of passed tests and amount of failed tests</span>
<span class="sd">        &#39;&#39;&#39;</span>        
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Vehicle Config Result / Error Tracking</span>
            <span class="n">vehicleConfigCorrectList</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">vehicleConfigErrorCounter</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">vehicleConfigErrorList</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">vehicleConfigErrorParamsList</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># Get the bus for the specified driver</span>
                <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">getDefaultBus</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="p">)</span> <span class="k">as</span> <span class="n">bus</span><span class="p">:</span>

                    <span class="c1"># Get the CAN message reader for the specified bus</span>
                    <span class="n">reader</span> <span class="o">=</span> <span class="n">ACReader</span><span class="p">(</span><span class="n">busIn</span><span class="o">=</span><span class="n">bus</span><span class="p">)</span>
                    <span class="c1"># Get the CAN message writer for the specified bus</span>
                    <span class="n">writer</span> <span class="o">=</span> <span class="n">ACWriter</span><span class="p">(</span><span class="n">busIn</span><span class="o">=</span><span class="n">bus</span><span class="p">)</span>
                    <span class="c1"># Get the DBC parser for lookup (CAN)</span>
                    <span class="n">dbcParser</span> <span class="o">=</span> <span class="n">dbcParse</span><span class="p">()</span>
                    <span class="c1"># Get the DOT parser for lookup (SDO)</span>
                    <span class="n">dotParser</span> <span class="o">=</span> <span class="n">dotParse</span><span class="p">()</span>
                    <span class="c1">#Load the DBC dictionaries into the parser</span>
                    <span class="n">dbcParser</span> <span class="o">=</span> <span class="n">dbcParse</span><span class="p">()</span>
                    <span class="c1"># Load the DOT dictionaries into the parser</span>
                    <span class="n">dotParser</span><span class="o">.</span><span class="n">loadDictionaries</span><span class="p">()</span>
                    <span class="c1"># Load the DOT parser into the reader</span>
                    <span class="n">reader</span><span class="o">.</span><span class="n">loadDotParser</span><span class="p">(</span><span class="n">dotParser</span><span class="o">=</span><span class="n">dotParser</span><span class="p">)</span>
                    <span class="c1"># Load the DOT parser into the writer</span>
                    <span class="n">writer</span><span class="o">.</span><span class="n">loadDotParser</span><span class="p">(</span><span class="n">dotParser</span><span class="o">=</span><span class="n">dotParser</span><span class="p">)</span>

                    <span class="c1"># Get an automator</span>
                    <span class="n">currentAutomator</span> <span class="o">=</span> <span class="n">sdoAutomator</span><span class="p">(</span><span class="n">readerIn</span><span class="o">=</span><span class="n">reader</span><span class="p">,</span> <span class="n">writerIn</span><span class="o">=</span><span class="n">writer</span><span class="p">,</span> <span class="n">dbcParseIn</span><span class="o">=</span><span class="n">dbcParser</span><span class="p">,</span> <span class="n">dotParseIn</span><span class="o">=</span><span class="n">dotParser</span><span class="p">)</span>

                    <span class="c1"># Repeat the test 100 times</span>
                    <span class="k">for</span> <span class="n">iterCount</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">iterations</span><span class="p">):</span>
                        <span class="c1"># Get the operation error every 50 when bus is reinitialized</span>
                        <span class="k">try</span><span class="p">:</span>
                            <span class="c1"># Iteration Manager</span>
                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Beginning Iteration&quot;</span><span class="p">,</span> <span class="n">iterCount</span><span class="p">)</span>

                            <span class="c1"># vehicleConfig SDO Automation Test</span>
                            <span class="c1"># If it takes longer than 60 seconds, quit</span>
                            <span class="n">vehicleConfigSdoAutomator</span> <span class="o">=</span> <span class="n">currentAutomator</span><span class="o">.</span><span class="n">writeSdoDict</span><span class="p">(</span><span class="n">sdoDictionary</span><span class="o">=</span><span class="p">{</span>
                                <span class="s2">&quot;VehicleConfig_Active_PedalUp&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]),</span>
                                <span class="s2">&quot;VehicleConfig_Active_DCDCConverter&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                                <span class="s2">&quot;VehicleConfig_Active_Horn&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                                <span class="s2">&quot;VehicleConfig_Active_Headlights&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                                <span class="s2">&quot;VehicleConfig_Active_TurnSignals&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                                <span class="s2">&quot;VehicleConfig_Active_HazardSwitch&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                                <span class="s2">&quot;VehicleConfig_Active_BrakeLights&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                                <span class="s2">&quot;VehicleConfig_Active_WigWag&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                                <span class="s2">&quot;VehicleConfig_Active_LogoLight&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                                <span class="s2">&quot;VehicleConfig_Active_DRLEnable&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                                <span class="s2">&quot;VehicleConfig_Active_VisageControl&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                                <span class="s2">&quot;VehiceConfig_Active_BodyBuilderRelay&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                                <span class="s2">&quot;VehicleConfig_Active_PerformanceProfile&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]),</span>
                                <span class="s2">&quot;VehicleConfig_Active_NumBeepsStartOfCharge&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]),</span>
                                <span class="s2">&quot;VehicleConfig_Active_OffPeakCharging&quot;</span><span class="p">:</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]),</span>
                                <span class="s2">&quot;VehicleConfig_Active_SOC_Mode&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">]),</span>
                                <span class="s2">&quot;VehicleConfig_Active_DRL_Mode&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>

                                <span class="c1"># Timeout&#39;s can only be every 20, so scale the random choice</span>
                                <span class="s2">&quot;VehicleConfig_Active_Acc_Timeout&quot;</span><span class="p">:</span> <span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">360000</span><span class="p">)))</span> <span class="o">*</span> <span class="mi">20</span><span class="p">),</span>
                                <span class="s2">&quot;VehicleConfig_Active_Run_Timeout&quot;</span><span class="p">:</span> <span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">135000</span><span class="p">)))</span> <span class="o">*</span> <span class="mi">20</span><span class="p">),</span>
                                <span class="s2">&quot;VehicleConfig_Active_KeyOffLight_Timeout&quot;</span><span class="p">:</span> <span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">30000</span><span class="p">)))</span> <span class="o">*</span> <span class="mi">20</span><span class="p">),</span>

                                <span class="c1"># Fails, some of the time</span>
                                <span class="s2">&quot;VehicleConfig_Active_BSI&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                                <span class="s2">&quot;VehicleConfig_Active_isAPPS&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                                <span class="s2">&quot;VehicleConfig_Active_MaxSpeedRev&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">76</span><span class="p">))),</span>

                                <span class="c1"># Timeout&#39;s can only be every 20, so scale the random choice</span>
                                <span class="s2">&quot;VehicleConfig_Active_KeyOffHorn_Timeout&quot;</span><span class="p">:</span> <span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2160000</span><span class="p">)))</span> <span class="o">*</span> <span class="mi">20</span><span class="p">),</span>

                                <span class="s2">&quot;VehicleConfig_Active_MotorType&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]),</span>
                                <span class="s2">&quot;VehicleConfig_Active_WindshieldWiper&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                                <span class="s2">&quot;VehicleConfig_Active_WindshieldWasher&quot;</span><span class="p">:</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                                <span class="s2">&quot;VehicleConfig_Active_AudioAmplifier&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                                <span class="s2">&quot;VehicleConfig_Active_Motion_Mode&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                                <span class="p">},</span> 
                                <span class="c1"># Pass on the time delay and timeout</span>
                                <span class="n">timeDelay</span><span class="o">=</span><span class="n">timeDelayIn</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>

                            <span class="c1"># Extra sleep to allow bus to chill</span>
                            <span class="n">sleep</span><span class="p">(</span><span class="n">timeDelayIn</span><span class="p">)</span>
                            <span class="c1"># Flush the bus buffer</span>
                            <span class="n">bus</span><span class="o">.</span><span class="n">flush_tx_buffer</span><span class="p">()</span>

                            <span class="c1"># Results</span>
                            <span class="k">if</span> <span class="n">vehicleConfigSdoAutomator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                                <span class="n">vehicleConfigCorrectList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iterCount</span><span class="p">)</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">vehicleConfigErrorCounter</span> <span class="o">+=</span> <span class="n">vehicleConfigSdoAutomator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                                <span class="n">vehicleConfigErrorParamsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vehicleConfigSdoAutomator</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
                                <span class="n">vehicleConfigErrorList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iterCount</span><span class="p">)</span>  

                        <span class="c1"># Get the operation error every 50 when bus is reinitialized</span>
                        <span class="k">except</span> <span class="p">(</span><span class="n">CanOperationError</span><span class="p">,</span> <span class="n">PcanCanOperationError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: An Operation Error Has Been Detected!&quot;</span><span class="p">)</span>
                            <span class="nb">print</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>



            <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Program Execution Halted by Keyboard Interrupt!&quot;</span><span class="p">)</span>

            <span class="c1"># Overall Result Display</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Test Completed!&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;VehicleConfig Error Counter: &quot;</span><span class="p">,</span> <span class="n">vehicleConfigErrorCounter</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

            <span class="c1"># Error Result Display</span>
            <span class="k">if</span> <span class="n">vehicleConfigErrorCounter</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;VehicleConfig Error List: &quot;</span><span class="p">,</span> <span class="n">vehicleConfigErrorList</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;VehicleConfig Error Params: &quot;</span><span class="p">,</span> <span class="n">vehicleConfigErrorParamsList</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

            <span class="c1"># Correct Result Display</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;VehicleConfig Correct:&quot;</span><span class="p">,</span> <span class="n">vehicleConfigCorrectList</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Program Execution Halted by Keyboard Interrupt!&quot;</span><span class="p">)</span>

        <span class="c1"># Return amount of passed tests and failed tests</span>
        <span class="k">return</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">vehicleConfigCorrectList</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">vehicleConfigErrorList</span><span class="p">)]</span>


    <span class="c1">#############################</span>
    <span class="c1"># SCRIPT 2 - DST Write Test #</span>
    <span class="c1">#############################</span>
    <span class="k">def</span> <span class="nf">script_writeDstTest</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeDelayIn</span><span class="p">:</span><span class="nb">float</span><span class="o">=</span><span class="mf">0.03</span><span class="p">,</span> <span class="n">iterations</span><span class="p">:</span><span class="nb">int</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; This script is designed to implement the functionality of Anti-Canape objects in order to test writing the DST SDO messages. It will continually write the DST SDO messages from the DOT to the VCM for the specified amount of iterations. </span>

<span class="sd">        This script tests the SDO messages by reading the initial value of a SDO parameter present on the VCM, writing a randomized value in the range for each SDO parameter to the VCM, then reading the final value for the SDO parameter present on the VCM. If the value was correctly updated, then the test for that parameter passes.</span>

<span class="sd">        It will track all correct and error iterations and present them all to the user at the end of script execution.</span>

<span class="sd">        Args:</span>
<span class="sd">            timeDelayIn (float, optional): The delay (in seconds) that the program should wait before sending another SDO message. Defaults to 0.03.</span>
<span class="sd">            iterations (int, optional): The amount of times the test should be run. Defaults to 1.</span>
<span class="sd">            timeout (int): The timeout in seconds for reading the message from the bus. Defaults to None. If None, thread continues indefinitely.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if the script completed correctly, False otherwise.</span>
<span class="sd">        &#39;&#39;&#39;</span>        
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># DST Result / Error Tracking</span>
            <span class="n">dstErrorCounter</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">dstErrorList</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">dstErrorParamsList</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">dstCorrectList</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># Get the bus for the specified driver</span>
                <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">getDefaultBus</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="p">)</span> <span class="k">as</span> <span class="n">bus</span><span class="p">:</span>

                    <span class="c1"># Get the CAN message reader for the specified bus</span>
                    <span class="n">reader</span> <span class="o">=</span> <span class="n">ACReader</span><span class="p">(</span><span class="n">busIn</span><span class="o">=</span><span class="n">bus</span><span class="p">)</span>
                    <span class="c1"># Get the CAN message writer for the specified bus</span>
                    <span class="n">writer</span> <span class="o">=</span> <span class="n">ACWriter</span><span class="p">(</span><span class="n">busIn</span><span class="o">=</span><span class="n">bus</span><span class="p">)</span>
                    <span class="n">dbcParser</span> <span class="o">=</span> <span class="n">dbcParse</span><span class="p">()</span>
                    <span class="c1"># Get the DOT parser for lookup (SDO)</span>
                    <span class="n">dotParser</span> <span class="o">=</span> <span class="n">dotParse</span><span class="p">()</span>
                    <span class="c1">#Load the DBC dictionaries into the parser</span>
                    <span class="n">dbcParser</span> <span class="o">=</span> <span class="n">dbcParse</span><span class="p">()</span>
                    <span class="c1"># Load the DOT dictionaries into the parser</span>
                    <span class="n">dotParser</span><span class="o">.</span><span class="n">loadDictionaries</span><span class="p">()</span>
                    <span class="c1"># Load the DOT parser into the reader</span>
                    <span class="n">reader</span><span class="o">.</span><span class="n">loadDotParser</span><span class="p">(</span><span class="n">dotParser</span><span class="o">=</span><span class="n">dotParser</span><span class="p">)</span>
                    <span class="c1"># Load the DOT parser into the writer</span>
                    <span class="n">writer</span><span class="o">.</span><span class="n">loadDotParser</span><span class="p">(</span><span class="n">dotParser</span><span class="o">=</span><span class="n">dotParser</span><span class="p">)</span>

                    <span class="c1"># Get an automator</span>
                    <span class="n">currentAutomator</span> <span class="o">=</span> <span class="n">sdoAutomator</span><span class="p">(</span><span class="n">readerIn</span><span class="o">=</span><span class="n">reader</span><span class="p">,</span> <span class="n">writerIn</span><span class="o">=</span><span class="n">writer</span><span class="p">,</span> <span class="n">dbcParseIn</span><span class="o">=</span><span class="n">dbcParser</span><span class="p">,</span> <span class="n">dotParseIn</span><span class="o">=</span><span class="n">dotParser</span><span class="p">)</span>

                    <span class="c1"># Repeat the test 100 times</span>
                    <span class="k">for</span> <span class="n">iterCount</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">iterations</span><span class="p">):</span>
                        <span class="c1"># Get the operation error every 50 when bus is reinitialized</span>
                        <span class="k">try</span><span class="p">:</span>
                            <span class="c1"># DST SDO Automation Test</span>
                            <span class="n">dstSdoAutomator</span> <span class="o">=</span> <span class="n">currentAutomator</span><span class="o">.</span><span class="n">writeSdoDict</span><span class="p">(</span><span class="n">sdoDictionary</span><span class="o">=</span><span class="p">{</span>
                                <span class="s2">&quot;UTC_TimeZoneOffset_Minutes&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">840</span><span class="p">))),</span>
                                <span class="s2">&quot;DST_enable&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                                <span class="s2">&quot;DST_rule_UTC_start&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]),</span>
                                <span class="s2">&quot;DST_rule_dateType_start&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]),</span>
                                <span class="s2">&quot;DST_rule_date_start&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">32</span><span class="p">))),</span> <span class="c1">#[1, 31] == [1, 32)</span>
                                <span class="s2">&quot;DST_rule_month_start&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">13</span><span class="p">))),</span> <span class="c1">#[1, 12] == [1, 13)</span>
                                <span class="s2">&quot;DST_rule_week_start&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">))),</span> <span class="c1">#[1, 4] == [1, 5)</span>
                                <span class="s2">&quot;DST_rule_weekday_start&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">))),</span> <span class="c1">#[0, 6] == [0, 7)</span>
                                <span class="s2">&quot;DST_rule_time_start&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1441</span><span class="p">))),</span> <span class="c1">#[0, 1440] == [0, 1441)</span>
                                <span class="s2">&quot;DST_rule_UTC_end&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]),</span>
                                <span class="s2">&quot;DST_rule_dateType_end&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]),</span>
                                <span class="s2">&quot;DST_rule_date_end&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">32</span><span class="p">))),</span> <span class="c1">#[1, 31] == [1, 32)</span>
                                <span class="s2">&quot;DST_rule_month_end&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">13</span><span class="p">))),</span> <span class="c1">#[1, 12] == [1, 13)</span>
                                <span class="s2">&quot;DST_rule_week_end&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">))),</span> <span class="c1">#[1, 4] == [1, 5)</span>
                                <span class="s2">&quot;DST_rule_weekday_end&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">))),</span> <span class="c1">#[0, 6] == [0, 7)</span>
                                <span class="s2">&quot;DST_rule_time_end&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1441</span><span class="p">))),</span> <span class="c1">#[0, 1440] == [0, 1441)</span>
                            <span class="p">},</span>
                            <span class="c1"># Pass on the time delay</span>
                            <span class="n">timeDelay</span><span class="o">=</span><span class="n">timeDelayIn</span><span class="p">)</span>

                            <span class="c1"># Results</span>
                            <span class="k">if</span> <span class="n">dstSdoAutomator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                                <span class="n">dstCorrectList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iterCount</span><span class="p">)</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">dstErrorCounter</span> <span class="o">+=</span> <span class="n">dstSdoAutomator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                                <span class="n">dstErrorParamsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dstSdoAutomator</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
                                <span class="n">dstErrorList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iterCount</span><span class="p">)</span>


                            <span class="c1"># Iteration Manager</span>
                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Beginning Iteration&quot;</span><span class="p">,</span> <span class="n">iterCount</span><span class="p">)</span>  

                        <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Program Execution Halted by Keyboard Interrupt!&quot;</span><span class="p">)</span>

            <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Program Execution Halted by Keyboard Interrupt!&quot;</span><span class="p">)</span>
            <span class="k">except</span><span class="p">(</span><span class="n">AntiCanapeError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span> <span class="c1"># For an Anti-Canape error deeper down</span>
                <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
                    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: An Error was detected!&quot;</span><span class="p">)</span>
                    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                    <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                    <span class="k">raise</span>

            <span class="c1"># Overall Result Display</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Test Completed!&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;DST Error Counter: &quot;</span><span class="p">,</span> <span class="n">dstErrorCounter</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

            <span class="c1"># Error Result Display</span>
            <span class="k">if</span> <span class="n">dstErrorCounter</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;DST Error List: &quot;</span><span class="p">,</span> <span class="n">dstErrorList</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;DST Error Params: &quot;</span><span class="p">,</span> <span class="n">dstErrorParamsList</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

            <span class="c1"># Correct Result Display</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;DST Correct: &quot;</span><span class="p">,</span> <span class="n">dstCorrectList</span><span class="p">)</span>

        <span class="k">except</span><span class="p">(</span><span class="n">AntiCanapeError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span> <span class="c1"># For an Anti-Canape error deeper down</span>
            <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: An Error was detected!&quot;</span><span class="p">)</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                <span class="k">raise</span>

        <span class="c1">#Return true for total script completion</span>
        <span class="k">return</span> <span class="kc">True</span>


    <span class="c1">#######################################</span>
    <span class="c1"># SCRIPT 3 - Initialize Configuration #</span>
    <span class="c1">#######################################</span>
    <span class="k">def</span> <span class="nf">script_configureSdo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeDelay</span><span class="p">:</span><span class="nb">float</span><span class="o">=</span><span class="mf">0.03</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; This script is designed to automatically write VCM configurations using SDO parameters. It will take a list of parameters and values as input, complete an initial read of the SDO parameters on the VCM, write the new SDO parameters to the VCM, complete a save NVM command on the VCM, instruct the user to power cycle the VCM, perform a final read of SDO parameters on the VCM, and provide the user with a final table displaying the parameters and all values along with a color-coded highlighting to identify correctness/failures.</span>

<span class="sd">        Args:</span>
<span class="sd">            timeDelay (float, optional): The delay (in seconds) that the program should wait before sending another SDO message. Defaults to 0.03.</span>

<span class="sd">        Returns:</span>
<span class="sd">            _type_: True if the script completed correctly, False otherwise.</span>
<span class="sd">        &#39;&#39;&#39;</span>       
        <span class="c1"># Script Header</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;======== CC Anti-Canape: SDO Auto Configuration =========&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Welcome to the SDO Auto Configuration for SDO Parameters!&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

        <span class="c1"># Get Driver</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;To start, select a dongle (&#39;vector&#39;, &#39;pcan&#39;, or &#39;kvaser&#39;)!&quot;</span><span class="p">)</span>
        <span class="n">driverInput</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Driver: &quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">driverInput</span><span class="o">.</span><span class="n">casefold</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;vector&#39;</span><span class="o">.</span><span class="n">casefold</span><span class="p">())</span> <span class="ow">and</span> <span class="p">(</span><span class="n">driverInput</span><span class="o">.</span><span class="n">casefold</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;pcan&#39;</span><span class="o">.</span><span class="n">casefold</span><span class="p">())</span> <span class="ow">and</span> <span class="p">(</span><span class="n">driverInput</span><span class="o">.</span><span class="n">casefold</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;kvaser&#39;</span><span class="o">.</span><span class="n">casefold</span><span class="p">()):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error: Incorrect Input. Enter &#39;vector&#39;, &#39;pcan&#39;, or &#39;kvaser&#39;!&quot;</span><span class="p">)</span>
            <span class="n">driverInput</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Driver: &quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">driverInput</span><span class="p">,</span> <span class="s2">&quot; Driver Has Been Selected!&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span> <span class="o">=</span> <span class="n">driverInput</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

        <span class="c1"># Get configuration file</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Next, please specify the location (path) of the config file!&quot;</span><span class="p">)</span>
        <span class="n">pathInput</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;File Path: &quot;</span><span class="p">)</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">pathInput</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;.txt&#39;</span><span class="p">):</span> 
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error: Incorrect Input. Give path of a &#39;.txt&#39; config file!&quot;</span><span class="p">)</span>
            <span class="n">pathInput</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;File Path: &quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">pathInput</span><span class="p">,</span> <span class="s2">&quot; Has Been Selected For Configuration!&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

        <span class="c1"># Get SDO parameters to configure from file</span>
        <span class="n">sdoConfigDict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;VehicleConfig_Active_Headlights&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
        <span class="c1"># NOTE: Temporary for testing</span>

        <span class="c1"># with open(path) as configFile:</span>
        <span class="c1">#     # TODO: Figure out parsing of config file depending upon the formatting</span>
        <span class="c1">#     # TODO: Add each param:value to dict</span>
        <span class="c1">#     pass</span>

        <span class="c1"># Get the bus for the driver</span>
        <span class="n">bus</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getDefaultBus</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="p">)</span>
        <span class="c1"># Get the CAN message reader for the specified bus</span>
        <span class="n">reader</span> <span class="o">=</span> <span class="n">ACReader</span><span class="p">(</span><span class="n">busIn</span><span class="o">=</span><span class="n">bus</span><span class="p">)</span>
        <span class="c1"># Get the CAN message writer for the specified bus</span>
        <span class="n">writer</span> <span class="o">=</span> <span class="n">ACWriter</span><span class="p">(</span><span class="n">busIn</span><span class="o">=</span><span class="n">bus</span><span class="p">)</span>
        <span class="n">dbcParser</span> <span class="o">=</span> <span class="n">dbcParse</span><span class="p">()</span>
        <span class="c1"># Get the DOT parser for lookup (SDO)</span>
        <span class="n">dotParser</span> <span class="o">=</span> <span class="n">dotParse</span><span class="p">()</span>
        <span class="c1">#Load the DBC dictionaries into the parser</span>
        <span class="n">dbcParser</span> <span class="o">=</span> <span class="n">dbcParse</span><span class="p">()</span>
        <span class="c1"># Load the DOT dictionaries into the parser</span>
        <span class="n">dotParser</span><span class="o">.</span><span class="n">loadDictionaries</span><span class="p">()</span>
        <span class="c1"># Load the DOT parser into the reader</span>
        <span class="n">reader</span><span class="o">.</span><span class="n">loadDotParser</span><span class="p">(</span><span class="n">dotParser</span><span class="o">=</span><span class="n">dotParser</span><span class="p">)</span>
        <span class="c1"># Load the DOT parser into the writer</span>
        <span class="n">writer</span><span class="o">.</span><span class="n">loadDotParser</span><span class="p">(</span><span class="n">dotParser</span><span class="o">=</span><span class="n">dotParser</span><span class="p">)</span>
        <span class="c1"># Get an automator</span>
        <span class="n">currentAutomator</span> <span class="o">=</span> <span class="n">sdoAutomator</span><span class="p">(</span><span class="n">readerIn</span><span class="o">=</span><span class="n">reader</span><span class="p">,</span> <span class="n">writerIn</span><span class="o">=</span><span class="n">writer</span><span class="p">,</span> <span class="n">dbcParseIn</span><span class="o">=</span><span class="n">dbcParser</span><span class="p">,</span> <span class="n">dotParseIn</span><span class="o">=</span><span class="n">dotParser</span><span class="p">)</span>

        <span class="c1"># Create the printing data frame</span>
        <span class="n">printDataFrame</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

        <span class="c1"># Write configurations and save the return information</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Writing SDO Configurations to VCM!&quot;</span><span class="p">)</span>
        <span class="n">sdoWriteReturn</span> <span class="o">=</span> <span class="n">currentAutomator</span><span class="o">.</span><span class="n">writeSdoDict</span><span class="p">(</span><span class="n">sdoConfigDict</span><span class="p">,</span> <span class="n">timeDelay</span><span class="o">=</span><span class="mf">0.02</span><span class="p">,</span> <span class="n">doPrint</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="c1"># If there were errors</span>
        <span class="k">while</span> <span class="n">sdoWriteReturn</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error: Writing Did Not Complete Correctly. Trying Again!&quot;</span><span class="p">)</span>
            <span class="c1"># Try to write slightly slower</span>
            <span class="n">sdoWriteReturn</span> <span class="o">=</span> <span class="n">currentAutomator</span><span class="o">.</span><span class="n">writeSdoDict</span><span class="p">(</span><span class="n">sdoConfigDict</span><span class="p">,</span> <span class="n">timeDelay</span><span class="o">=</span><span class="mf">0.03</span><span class="p">,</span> <span class="n">doPrint</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="c1"># If there were no errors, then announce success</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;SDO Configuration Writing Successful!&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

        <span class="c1"># Save writing stuff to the printing dataframe</span>
        <span class="n">writtenDf</span> <span class="o">=</span> <span class="n">sdoWriteReturn</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">printDataFrame</span><span class="p">[</span><span class="n">Fore</span><span class="o">.</span><span class="n">WHITE</span> <span class="o">+</span> <span class="n">Back</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">DIM</span> <span class="o">+</span> <span class="s1">&#39; Parameter Name &#39;</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">]</span> <span class="o">=</span> <span class="n">writtenDf</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;Parameter Name&#39;</span><span class="p">]</span>
        <span class="n">printDataFrame</span><span class="p">[</span><span class="n">Fore</span><span class="o">.</span><span class="n">WHITE</span> <span class="o">+</span> <span class="n">Back</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">DIM</span> <span class="o">+</span> <span class="s1">&#39; Initial Value Before Write &#39;</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">]</span> <span class="o">=</span> <span class="n">writtenDf</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;Initial Read Value&#39;</span><span class="p">]</span>
        <span class="n">printDataFrame</span><span class="p">[</span><span class="n">Fore</span><span class="o">.</span><span class="n">WHITE</span> <span class="o">+</span> <span class="n">Back</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">DIM</span> <span class="o">+</span> <span class="s1">&#39; Configured Value After Write &#39;</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">]</span> <span class="o">=</span> <span class="n">writtenDf</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;Written Value&#39;</span><span class="p">]</span>

        <span class="c1"># Save NVM Command</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Executing Save NVM Command!&quot;</span><span class="p">)</span>
        <span class="n">writer</span><span class="o">.</span><span class="n">singleSdoWrite</span><span class="p">(</span><span class="n">mainId</span><span class="o">=</span><span class="s2">&quot;VCM_SaveNVM&quot;</span><span class="p">,</span> <span class="n">payloadIn</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">saveNvmResponse</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">getSdoResponse</span><span class="p">(</span><span class="n">doPrint</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">saveNvmResponse</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;writesuccess&#39;</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error: Save NVM Did Not Complete Correctly. Trying Again!&quot;</span><span class="p">)</span>
            <span class="n">writer</span><span class="o">.</span><span class="n">singleSdoWrite</span><span class="p">(</span><span class="n">mainId</span><span class="o">=</span><span class="s2">&quot;VCM_SaveNVM&quot;</span><span class="p">,</span> <span class="n">payloadIn</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">saveNvmResponse</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">getSdoResponse</span><span class="p">(</span><span class="n">doPrint</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Save NVM Successful!&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

        <span class="c1"># Instruct User to Reset VCM Power</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Please Reset VCM Power (Unplug/Replug)!&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;When Done, Hit Any Key To Continue!&quot;</span><span class="p">)</span>
        <span class="n">system</span><span class="p">(</span><span class="s1">&#39;pause&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Power Reset Completed!&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

        <span class="c1"># Read Final SDO values</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Reading Final SDO Values!&quot;</span><span class="p">)</span>
        <span class="n">sdoReadReturn</span> <span class="o">=</span> <span class="n">currentAutomator</span><span class="o">.</span><span class="n">readSdoList</span><span class="p">(</span><span class="n">sdoList</span><span class="o">=</span><span class="n">sdoConfigDict</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="n">doPrint</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Final SDO Values Read!&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">printDataFrame</span><span class="p">[</span><span class="n">Fore</span><span class="o">.</span><span class="n">WHITE</span> <span class="o">+</span> <span class="n">Back</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">DIM</span> <span class="o">+</span> <span class="s1">&#39; Final Value After Power Reset &#39;</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">]</span> <span class="o">=</span> <span class="n">sdoReadReturn</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;Read Value&#39;</span><span class="p">]</span>

        <span class="c1"># For every row, check if it was correctly saved</span>
        <span class="k">for</span> <span class="n">paramCounter</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">printDataFrame</span><span class="o">.</span><span class="n">index</span><span class="p">)):</span>
            <span class="c1"># If correct, then color green</span>
            <span class="k">if</span> <span class="n">printDataFrame</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">paramCounter</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">printDataFrame</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">paramCounter</span><span class="p">,</span> <span class="mi">3</span><span class="p">]:</span>
                <span class="n">printDataFrame</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">paramCounter</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">Fore</span><span class="o">.</span><span class="n">WHITE</span> <span class="o">+</span> <span class="n">Back</span><span class="o">.</span><span class="n">GREEN</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">DIM</span> <span class="o">+</span> <span class="n">printDataFrame</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">paramCounter</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
                <span class="n">printDataFrame</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">paramCounter</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">printDataFrame</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">paramCounter</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span>
            <span class="c1"># If wrong, then color red</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">printDataFrame</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">paramCounter</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">Fore</span><span class="o">.</span><span class="n">WHITE</span> <span class="o">+</span> <span class="n">Back</span><span class="o">.</span><span class="n">RED</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">DIM</span> <span class="o">+</span> <span class="n">printDataFrame</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">paramCounter</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
                <span class="n">printDataFrame</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">paramCounter</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">printDataFrame</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">paramCounter</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span>



        <span class="c1"># Print Final Data Frame</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">tabulate</span><span class="p">(</span><span class="n">printDataFrame</span><span class="p">,</span> <span class="n">showindex</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">printDataFrame</span><span class="o">.</span><span class="n">columns</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">)</span>

        <span class="c1"># Script Footer</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;============= Thank You For Using CCACSAC! ==============&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;== Just Remember: It&#39;s Always a Great Day At The Club! ==&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;================= Author: Chris Hinkson =================&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;======= Contact: Christopher.Hinkson@clubcar.com ========&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;======== CC Anti-Canape: SDO Auto Configuration =========&quot;</span><span class="p">)</span>

        <span class="c1"># Return true for success</span>
        <span class="k">return</span> <span class="kc">True</span>


    <span class="c1">###################################</span>
    <span class="c1"># SCRIPT 4 - Fault SDO Read Check #</span>
    <span class="c1">###################################</span>
    <span class="k">def</span> <span class="nf">script_readFaultsTest</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeDelayIn</span><span class="p">:</span><span class="nb">float</span><span class="o">=</span><span class="mf">0.03</span><span class="p">,</span> <span class="n">iterations</span><span class="p">:</span><span class="nb">int</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span><span class="nb">int</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; This script is designed to implement the functionality of Anti-Canape objects in order to test the reading of SDO messages. It will attempt to read all faults SDO messages currently in the loaded DOT.</span>

<span class="sd">        Args:</span>
<span class="sd">            timeDelayIn (float, optional): The delay (in seconds) that the program should wait before sending another SDO message. Defaults to 0.03.</span>
<span class="sd">            iterations (int, optional): The amount of times the test should be run. Defaults to 1.</span>
<span class="sd">            timeout (int): The timeout in seconds for reading the message from the bus. Defaults to None. If None, thread continues indefinitely.</span>


<span class="sd">        Raises:</span>
<span class="sd">            AntiCanapeError: Custom Exception that allows for general exception handling and debugging information.</span>

<span class="sd">        &#39;&#39;&#39;</span>        
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Get the bus for the specified driver</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">getDefaultBus</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="p">)</span> <span class="k">as</span> <span class="n">bus</span><span class="p">:</span>

                <span class="c1"># Get the CAN message reader for the specified bus</span>
                <span class="n">reader</span> <span class="o">=</span> <span class="n">ACReader</span><span class="p">(</span><span class="n">busIn</span><span class="o">=</span><span class="n">bus</span><span class="p">)</span>
                <span class="c1"># Get the CAN message writer for the specified bus</span>
                <span class="n">writer</span> <span class="o">=</span> <span class="n">ACWriter</span><span class="p">(</span><span class="n">busIn</span><span class="o">=</span><span class="n">bus</span><span class="p">)</span>
                <span class="c1"># Get the DBC parser for lookup (CAN)</span>
                <span class="n">dbcParser</span> <span class="o">=</span> <span class="n">dbcParse</span><span class="p">()</span>
                <span class="c1"># Get the DOT parser for lookup (SDO)</span>
                <span class="n">dotParser</span> <span class="o">=</span> <span class="n">dotParse</span><span class="p">()</span>
                <span class="c1">#Load the DBC dictionaries into the parser</span>
                <span class="n">dbcParser</span> <span class="o">=</span> <span class="n">dbcParse</span><span class="p">()</span>
                <span class="c1"># Load the DOT dictionaries into the parser</span>
                <span class="n">dotParser</span><span class="o">.</span><span class="n">loadDictionaries</span><span class="p">()</span>
                <span class="c1"># Load the DOT parser into the reader</span>
                <span class="n">reader</span><span class="o">.</span><span class="n">loadDotParser</span><span class="p">(</span><span class="n">dotParser</span><span class="o">=</span><span class="n">dotParser</span><span class="p">)</span>
                <span class="c1"># Load the DOT parser into the writer</span>
                <span class="n">writer</span><span class="o">.</span><span class="n">loadDotParser</span><span class="p">(</span><span class="n">dotParser</span><span class="o">=</span><span class="n">dotParser</span><span class="p">)</span>

                <span class="c1"># Get an automator</span>
                <span class="n">currentAutomator</span> <span class="o">=</span> <span class="n">sdoAutomator</span><span class="p">(</span><span class="n">readerIn</span><span class="o">=</span><span class="n">reader</span><span class="p">,</span> <span class="n">writerIn</span><span class="o">=</span><span class="n">writer</span><span class="p">,</span> <span class="n">dbcParseIn</span><span class="o">=</span><span class="n">dbcParser</span><span class="p">,</span> <span class="n">dotParseIn</span><span class="o">=</span><span class="n">dotParser</span><span class="p">)</span>

                <span class="c1"># Repeat the test iterations times</span>
                <span class="k">for</span> <span class="n">iterCount</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">iterations</span><span class="p">):</span>

                    <span class="c1"># Get the operation error when bus is reinitialized</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="c1"># Iteration Manager</span>
                        <span class="k">if</span> <span class="n">iterations</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Beginning Iteration&quot;</span><span class="p">,</span> <span class="n">iterCount</span><span class="p">)</span>

                        <span class="c1"># Faults list creation</span>
                        <span class="n">faultsList</span> <span class="o">=</span> <span class="p">[</span><span class="mi">20480</span><span class="p">,</span> <span class="mi">20481</span><span class="p">]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">20483</span><span class="p">,</span> <span class="mi">20499</span><span class="p">))</span>

                        <span class="c1"># Check if bus is overloaded</span>
                        <span class="k">try</span><span class="p">:</span>
                            <span class="c1"># Fault Read Test</span>
                            <span class="n">currentAutomator</span><span class="o">.</span><span class="n">readSdoList</span><span class="p">(</span><span class="n">sdoList</span><span class="o">=</span><span class="n">faultsList</span><span class="p">,</span> <span class="n">timeDelay</span><span class="o">=</span><span class="n">timeDelayIn</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
                        <span class="k">except</span> <span class="p">(</span><span class="ne">KeyboardInterrupt</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span> <span class="c1">#For when user interrupts program</span>
                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Program Execution Halted by Keyboard Interrupt!&quot;</span><span class="p">)</span>
                            <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
                                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: A heavy/overloaded bus was detected! Restarting script...&quot;</span><span class="p">)</span>
                                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                                <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                                <span class="k">raise</span> <span class="n">AntiCanapeError</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                            <span class="k">raise</span> <span class="c1"># If debug mode off, still raise the error as is</span>
                        <span class="k">except</span> <span class="p">(</span><span class="n">BusOverloadError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span> <span class="c1"># For when the bus is overloaded / in error state</span>
                            <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
                                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: A heavy/overloaded bus was detected! Restarting script...&quot;</span><span class="p">)</span>
                                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                                <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                            <span class="k">raise</span> <span class="n">AntiCanapeError</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                        <span class="k">except</span> <span class="p">(</span><span class="n">PcanError</span><span class="p">,</span> <span class="n">PcanCanOperationError</span><span class="p">,</span> <span class="n">PcanCanInitializationError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span> <span class="c1"># For when pcan has issues</span>
                            <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
                                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: A PCAN Error was detected!&quot;</span><span class="p">)</span>
                                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                                <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                            <span class="k">raise</span> <span class="n">AntiCanapeError</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                        <span class="k">except</span> <span class="p">(</span><span class="n">CanError</span><span class="p">,</span> <span class="n">CanInitializationError</span><span class="p">,</span> <span class="n">CanInterfaceNotImplementedError</span><span class="p">,</span> <span class="n">CanOperationError</span><span class="p">,</span> <span class="n">CanTimeoutError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span> <span class="c1"># Any CAN error</span>
                            <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
                                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: A CAN Error was detected!&quot;</span><span class="p">)</span>
                                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                                <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                            <span class="k">raise</span> <span class="n">AntiCanapeError</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                        <span class="k">except</span> <span class="p">(</span><span class="ne">AttributeError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span> <span class="c1"># Silly attribute errors</span>
                            <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
                                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: There has been an error when scanning for the ID!&quot;</span><span class="p">)</span>
                                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                                <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                            <span class="k">raise</span> <span class="n">AntiCanapeError</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                        <span class="k">except</span><span class="p">(</span><span class="n">AntiCanapeError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span> <span class="c1"># For an Anti-Canape error deeper down</span>
                            <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
                                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: An Error was detected!&quot;</span><span class="p">)</span>
                                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                                <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                                <span class="k">raise</span>

                        <span class="c1"># Extra sleep to allow bus to chill</span>
                        <span class="n">sleep</span><span class="p">(</span><span class="n">timeDelayIn</span><span class="p">)</span>
                        <span class="c1"># Flush the bus buffer</span>
                        <span class="n">bus</span><span class="o">.</span><span class="n">flush_tx_buffer</span><span class="p">()</span>

                    <span class="k">except</span><span class="p">(</span><span class="n">AntiCanapeError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span> <span class="c1"># For an Anti-Canape error deeper down</span>
                        <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
                            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: An Error was detected!&quot;</span><span class="p">)</span>
                            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                            <span class="k">raise</span>

        <span class="k">except</span> <span class="p">(</span><span class="ne">KeyboardInterrupt</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Program Execution Halted by Keyboard Interrupt!&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
                                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: A heavy/overloaded bus was detected! Restarting script...&quot;</span><span class="p">)</span>
                                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                                <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                                <span class="k">raise</span> <span class="n">AntiCanapeError</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
            <span class="k">raise</span>
        <span class="k">except</span><span class="p">(</span><span class="n">AntiCanapeError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span> <span class="c1"># For an Anti-Canape error deeper down</span>
            <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: An Error was detected!&quot;</span><span class="p">)</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                <span class="k">raise</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: An Error was detected!&quot;</span><span class="p">)</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                <span class="k">raise</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h3 id="drivers.automator.SdoScriptManager.__init__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">driver</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>The script manager class is defined to provide an object-orientated script service for the automation of SDO message transmission.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>driver</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The driver (dongle) to use.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>drivers\automator.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">driver</span><span class="p">:</span><span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39; The script manager class is defined to provide an object-orientated script service for the automation of SDO message transmission.</span>

<span class="sd">    Args:</span>
<span class="sd">        driver (str): The driver (dongle) to use.</span>
<span class="sd">    &#39;&#39;&#39;</span>     
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: A New Scripting Object Has Been Created For The&quot;</span><span class="p">,</span> <span class="n">driver</span><span class="p">,</span> <span class="s2">&quot;Dongle!&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span> <span class="o">=</span> <span class="n">driver</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">threadTimeout</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="drivers.automator.SdoScriptManager.getDefaultBus" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">getDefaultBus</span><span class="p">(</span><span class="n">driver</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Gets the default (configured) bus for a driver, based on in-house (Club Car) dongles.
Reference: [https://python-can.readthedocs.io/en/stable/configuration.html#interface-names]</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>driver</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The driver (dongle) to use. Acceptable values are 'kvaser', 'pcan', or 'vector'.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>ThreadSafeBus</code></td>          <td>
                <code><span title="can.ThreadSafeBus">ThreadSafeBus</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The correct bus for the given driver that is safe for several thread dependencies.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>drivers\automator.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">getDefaultBus</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">driver</span><span class="p">:</span><span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ThreadSafeBus</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39; Gets the default (configured) bus for a driver, based on in-house (Club Car) dongles.</span>
<span class="sd">    Reference: [https://python-can.readthedocs.io/en/stable/configuration.html#interface-names]</span>

<span class="sd">    Args:</span>
<span class="sd">        driver (str): The driver (dongle) to use. Acceptable values are &#39;kvaser&#39;, &#39;pcan&#39;, or &#39;vector&#39;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        ThreadSafeBus: The correct bus for the given driver that is safe for several thread dependencies.</span>
<span class="sd">    &#39;&#39;&#39;</span>        
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Default kvaser bus, channel, and byterate</span>
        <span class="c1"># [https://python-can.readthedocs.io/en/stable/interfaces/kvaser.html#kvaser-s-canlib]</span>
        <span class="k">if</span> <span class="n">driver</span><span class="o">.</span><span class="n">casefold</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;kvaser&#39;</span><span class="o">.</span><span class="n">casefold</span><span class="p">():</span>
            <span class="c1"># Create thread-safe CAN Bus using driver backend</span>
            <span class="c1"># [https://python-can.readthedocs.io/en/stable/configuration.html]</span>
            <span class="c1"># [https://python-can.readthedocs.io/en/stable/bus.html#can.ThreadSafeBus]</span>
            <span class="n">kvaserBus</span> <span class="o">=</span> <span class="n">ThreadSafeBus</span><span class="p">(</span><span class="n">interface</span><span class="o">=</span><span class="s1">&#39;kvaser&#39;</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">bitrate</span><span class="o">=</span><span class="mi">500000</span><span class="p">)</span>
            <span class="n">kvaserBus</span><span class="o">.</span><span class="n">single_handle</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">return</span> <span class="n">kvaserBus</span>
    <span class="c1"># Indicates an error occured while initializing bus</span>
    <span class="c1"># [https://python-can.readthedocs.io/en/stable/errors.html#can.exceptions.CanInitializationError]</span>
    <span class="k">except</span> <span class="n">CanInitializationError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: An error has occured when creating the kvaser Bus!&quot;</span><span class="p">)</span> 
        <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="s2">&quot;: &quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Default pcan bus, channel, and byterate</span>
        <span class="c1"># [https://python-can.readthedocs.io/en/stable/interfaces/pcan.html]</span>
        <span class="c1"># [https://python-can.readthedocs.io/en/stable/bus.html#can.ThreadSafeBus]</span>
        <span class="k">if</span> <span class="n">driver</span><span class="o">.</span><span class="n">casefold</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;pcan&#39;</span><span class="o">.</span><span class="n">casefold</span><span class="p">():</span>
            <span class="c1"># Create thread-safe CAN Bus using driver backend</span>
            <span class="c1"># [https://python-can.readthedocs.io/en/stable/configuration.html]</span>
            <span class="c1"># [https://python-can.readthedocs.io/en/stable/interfaces/pcan.html]</span>
            <span class="n">pcanBus</span> <span class="o">=</span> <span class="n">ThreadSafeBus</span><span class="p">(</span><span class="n">interface</span><span class="o">=</span><span class="s1">&#39;pcan&#39;</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="s1">&#39;PCAN_USBBUS1&#39;</span><span class="p">,</span> <span class="n">bitrate</span><span class="o">=</span><span class="mi">500000</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">pcanBus</span>
    <span class="c1"># Indicates an error occured while initializing bus</span>
    <span class="c1"># [https://python-can.readthedocs.io/en/stable/errors.html#can.exceptions.CanInitializationError]</span>
    <span class="k">except</span> <span class="n">CanInitializationError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: An error has occured when creating the PCAN Bus!&quot;</span><span class="p">)</span> 
        <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="s2">&quot;: &quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Default vector bus, channel, and app</span>
        <span class="c1"># [https://python-can.readthedocs.io/en/stable/interfaces/vector.html]</span>
        <span class="k">if</span> <span class="n">driver</span><span class="o">.</span><span class="n">casefold</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;vector&#39;</span><span class="o">.</span><span class="n">casefold</span><span class="p">():</span>
            <span class="c1"># Create thread-safe CAN Bus using driver backend</span>
            <span class="c1"># [https://python-can.readthedocs.io/en/stable/configuration.html]</span>
            <span class="c1"># [https://python-can.readthedocs.io/en/stable/bus.html#can.ThreadSafeBus]</span>
            <span class="n">vectorBus</span> <span class="o">=</span> <span class="n">ThreadSafeBus</span><span class="p">(</span><span class="n">interface</span><span class="o">=</span><span class="s1">&#39;vector&#39;</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="s2">&quot;0, 1&quot;</span><span class="p">,</span> <span class="n">app_name</span><span class="o">=</span><span class="s2">&quot;Anti-Canape&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">vectorBus</span>
    <span class="c1"># Indicates an error occured while initializing bus</span>
    <span class="c1"># [https://python-can.readthedocs.io/en/stable/errors.html#can.exceptions.CanInitializationError]</span>
    <span class="k">except</span> <span class="n">CanInitializationError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: An error has occured when creating the vector Bus!&quot;</span><span class="p">)</span> 
        <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="s2">&quot;: &quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="drivers.automator.SdoScriptManager.script_configureSdo" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">script_configureSdo</span><span class="p">(</span><span class="n">timeDelay</span><span class="o">=</span><span class="mf">0.03</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>This script is designed to automatically write VCM configurations using SDO parameters. It will take a list of parameters and values as input, complete an initial read of the SDO parameters on the VCM, write the new SDO parameters to the VCM, complete a save NVM command on the VCM, instruct the user to power cycle the VCM, perform a final read of SDO parameters on the VCM, and provide the user with a final table displaying the parameters and all values along with a color-coded highlighting to identify correctness/failures.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>timeDelay</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The delay (in seconds) that the program should wait before sending another SDO message. Defaults to 0.03.</p>
            </div>
          </td>
          <td>
                <code>0.03</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>_type_</code></td>          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>True if the script completed correctly, False otherwise.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>drivers\automator.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">script_configureSdo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeDelay</span><span class="p">:</span><span class="nb">float</span><span class="o">=</span><span class="mf">0.03</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39; This script is designed to automatically write VCM configurations using SDO parameters. It will take a list of parameters and values as input, complete an initial read of the SDO parameters on the VCM, write the new SDO parameters to the VCM, complete a save NVM command on the VCM, instruct the user to power cycle the VCM, perform a final read of SDO parameters on the VCM, and provide the user with a final table displaying the parameters and all values along with a color-coded highlighting to identify correctness/failures.</span>

<span class="sd">    Args:</span>
<span class="sd">        timeDelay (float, optional): The delay (in seconds) that the program should wait before sending another SDO message. Defaults to 0.03.</span>

<span class="sd">    Returns:</span>
<span class="sd">        _type_: True if the script completed correctly, False otherwise.</span>
<span class="sd">    &#39;&#39;&#39;</span>       
    <span class="c1"># Script Header</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;======== CC Anti-Canape: SDO Auto Configuration =========&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Welcome to the SDO Auto Configuration for SDO Parameters!&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="c1"># Get Driver</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;To start, select a dongle (&#39;vector&#39;, &#39;pcan&#39;, or &#39;kvaser&#39;)!&quot;</span><span class="p">)</span>
    <span class="n">driverInput</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Driver: &quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">driverInput</span><span class="o">.</span><span class="n">casefold</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;vector&#39;</span><span class="o">.</span><span class="n">casefold</span><span class="p">())</span> <span class="ow">and</span> <span class="p">(</span><span class="n">driverInput</span><span class="o">.</span><span class="n">casefold</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;pcan&#39;</span><span class="o">.</span><span class="n">casefold</span><span class="p">())</span> <span class="ow">and</span> <span class="p">(</span><span class="n">driverInput</span><span class="o">.</span><span class="n">casefold</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;kvaser&#39;</span><span class="o">.</span><span class="n">casefold</span><span class="p">()):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error: Incorrect Input. Enter &#39;vector&#39;, &#39;pcan&#39;, or &#39;kvaser&#39;!&quot;</span><span class="p">)</span>
        <span class="n">driverInput</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Driver: &quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">driverInput</span><span class="p">,</span> <span class="s2">&quot; Driver Has Been Selected!&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span> <span class="o">=</span> <span class="n">driverInput</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="c1"># Get configuration file</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Next, please specify the location (path) of the config file!&quot;</span><span class="p">)</span>
    <span class="n">pathInput</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;File Path: &quot;</span><span class="p">)</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">pathInput</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;.txt&#39;</span><span class="p">):</span> 
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error: Incorrect Input. Give path of a &#39;.txt&#39; config file!&quot;</span><span class="p">)</span>
        <span class="n">pathInput</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;File Path: &quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">pathInput</span><span class="p">,</span> <span class="s2">&quot; Has Been Selected For Configuration!&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="c1"># Get SDO parameters to configure from file</span>
    <span class="n">sdoConfigDict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;VehicleConfig_Active_Headlights&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
    <span class="c1"># NOTE: Temporary for testing</span>

    <span class="c1"># with open(path) as configFile:</span>
    <span class="c1">#     # TODO: Figure out parsing of config file depending upon the formatting</span>
    <span class="c1">#     # TODO: Add each param:value to dict</span>
    <span class="c1">#     pass</span>

    <span class="c1"># Get the bus for the driver</span>
    <span class="n">bus</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getDefaultBus</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="p">)</span>
    <span class="c1"># Get the CAN message reader for the specified bus</span>
    <span class="n">reader</span> <span class="o">=</span> <span class="n">ACReader</span><span class="p">(</span><span class="n">busIn</span><span class="o">=</span><span class="n">bus</span><span class="p">)</span>
    <span class="c1"># Get the CAN message writer for the specified bus</span>
    <span class="n">writer</span> <span class="o">=</span> <span class="n">ACWriter</span><span class="p">(</span><span class="n">busIn</span><span class="o">=</span><span class="n">bus</span><span class="p">)</span>
    <span class="n">dbcParser</span> <span class="o">=</span> <span class="n">dbcParse</span><span class="p">()</span>
    <span class="c1"># Get the DOT parser for lookup (SDO)</span>
    <span class="n">dotParser</span> <span class="o">=</span> <span class="n">dotParse</span><span class="p">()</span>
    <span class="c1">#Load the DBC dictionaries into the parser</span>
    <span class="n">dbcParser</span> <span class="o">=</span> <span class="n">dbcParse</span><span class="p">()</span>
    <span class="c1"># Load the DOT dictionaries into the parser</span>
    <span class="n">dotParser</span><span class="o">.</span><span class="n">loadDictionaries</span><span class="p">()</span>
    <span class="c1"># Load the DOT parser into the reader</span>
    <span class="n">reader</span><span class="o">.</span><span class="n">loadDotParser</span><span class="p">(</span><span class="n">dotParser</span><span class="o">=</span><span class="n">dotParser</span><span class="p">)</span>
    <span class="c1"># Load the DOT parser into the writer</span>
    <span class="n">writer</span><span class="o">.</span><span class="n">loadDotParser</span><span class="p">(</span><span class="n">dotParser</span><span class="o">=</span><span class="n">dotParser</span><span class="p">)</span>
    <span class="c1"># Get an automator</span>
    <span class="n">currentAutomator</span> <span class="o">=</span> <span class="n">sdoAutomator</span><span class="p">(</span><span class="n">readerIn</span><span class="o">=</span><span class="n">reader</span><span class="p">,</span> <span class="n">writerIn</span><span class="o">=</span><span class="n">writer</span><span class="p">,</span> <span class="n">dbcParseIn</span><span class="o">=</span><span class="n">dbcParser</span><span class="p">,</span> <span class="n">dotParseIn</span><span class="o">=</span><span class="n">dotParser</span><span class="p">)</span>

    <span class="c1"># Create the printing data frame</span>
    <span class="n">printDataFrame</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

    <span class="c1"># Write configurations and save the return information</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Writing SDO Configurations to VCM!&quot;</span><span class="p">)</span>
    <span class="n">sdoWriteReturn</span> <span class="o">=</span> <span class="n">currentAutomator</span><span class="o">.</span><span class="n">writeSdoDict</span><span class="p">(</span><span class="n">sdoConfigDict</span><span class="p">,</span> <span class="n">timeDelay</span><span class="o">=</span><span class="mf">0.02</span><span class="p">,</span> <span class="n">doPrint</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="c1"># If there were errors</span>
    <span class="k">while</span> <span class="n">sdoWriteReturn</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error: Writing Did Not Complete Correctly. Trying Again!&quot;</span><span class="p">)</span>
        <span class="c1"># Try to write slightly slower</span>
        <span class="n">sdoWriteReturn</span> <span class="o">=</span> <span class="n">currentAutomator</span><span class="o">.</span><span class="n">writeSdoDict</span><span class="p">(</span><span class="n">sdoConfigDict</span><span class="p">,</span> <span class="n">timeDelay</span><span class="o">=</span><span class="mf">0.03</span><span class="p">,</span> <span class="n">doPrint</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="c1"># If there were no errors, then announce success</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;SDO Configuration Writing Successful!&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="c1"># Save writing stuff to the printing dataframe</span>
    <span class="n">writtenDf</span> <span class="o">=</span> <span class="n">sdoWriteReturn</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">printDataFrame</span><span class="p">[</span><span class="n">Fore</span><span class="o">.</span><span class="n">WHITE</span> <span class="o">+</span> <span class="n">Back</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">DIM</span> <span class="o">+</span> <span class="s1">&#39; Parameter Name &#39;</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">]</span> <span class="o">=</span> <span class="n">writtenDf</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;Parameter Name&#39;</span><span class="p">]</span>
    <span class="n">printDataFrame</span><span class="p">[</span><span class="n">Fore</span><span class="o">.</span><span class="n">WHITE</span> <span class="o">+</span> <span class="n">Back</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">DIM</span> <span class="o">+</span> <span class="s1">&#39; Initial Value Before Write &#39;</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">]</span> <span class="o">=</span> <span class="n">writtenDf</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;Initial Read Value&#39;</span><span class="p">]</span>
    <span class="n">printDataFrame</span><span class="p">[</span><span class="n">Fore</span><span class="o">.</span><span class="n">WHITE</span> <span class="o">+</span> <span class="n">Back</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">DIM</span> <span class="o">+</span> <span class="s1">&#39; Configured Value After Write &#39;</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">]</span> <span class="o">=</span> <span class="n">writtenDf</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;Written Value&#39;</span><span class="p">]</span>

    <span class="c1"># Save NVM Command</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Executing Save NVM Command!&quot;</span><span class="p">)</span>
    <span class="n">writer</span><span class="o">.</span><span class="n">singleSdoWrite</span><span class="p">(</span><span class="n">mainId</span><span class="o">=</span><span class="s2">&quot;VCM_SaveNVM&quot;</span><span class="p">,</span> <span class="n">payloadIn</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">saveNvmResponse</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">getSdoResponse</span><span class="p">(</span><span class="n">doPrint</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">saveNvmResponse</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;writesuccess&#39;</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error: Save NVM Did Not Complete Correctly. Trying Again!&quot;</span><span class="p">)</span>
        <span class="n">writer</span><span class="o">.</span><span class="n">singleSdoWrite</span><span class="p">(</span><span class="n">mainId</span><span class="o">=</span><span class="s2">&quot;VCM_SaveNVM&quot;</span><span class="p">,</span> <span class="n">payloadIn</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">saveNvmResponse</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">getSdoResponse</span><span class="p">(</span><span class="n">doPrint</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Save NVM Successful!&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="c1"># Instruct User to Reset VCM Power</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Please Reset VCM Power (Unplug/Replug)!&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;When Done, Hit Any Key To Continue!&quot;</span><span class="p">)</span>
    <span class="n">system</span><span class="p">(</span><span class="s1">&#39;pause&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Power Reset Completed!&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="c1"># Read Final SDO values</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Reading Final SDO Values!&quot;</span><span class="p">)</span>
    <span class="n">sdoReadReturn</span> <span class="o">=</span> <span class="n">currentAutomator</span><span class="o">.</span><span class="n">readSdoList</span><span class="p">(</span><span class="n">sdoList</span><span class="o">=</span><span class="n">sdoConfigDict</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="n">doPrint</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Final SDO Values Read!&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="n">printDataFrame</span><span class="p">[</span><span class="n">Fore</span><span class="o">.</span><span class="n">WHITE</span> <span class="o">+</span> <span class="n">Back</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">DIM</span> <span class="o">+</span> <span class="s1">&#39; Final Value After Power Reset &#39;</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">]</span> <span class="o">=</span> <span class="n">sdoReadReturn</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;Read Value&#39;</span><span class="p">]</span>

    <span class="c1"># For every row, check if it was correctly saved</span>
    <span class="k">for</span> <span class="n">paramCounter</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">printDataFrame</span><span class="o">.</span><span class="n">index</span><span class="p">)):</span>
        <span class="c1"># If correct, then color green</span>
        <span class="k">if</span> <span class="n">printDataFrame</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">paramCounter</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">printDataFrame</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">paramCounter</span><span class="p">,</span> <span class="mi">3</span><span class="p">]:</span>
            <span class="n">printDataFrame</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">paramCounter</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">Fore</span><span class="o">.</span><span class="n">WHITE</span> <span class="o">+</span> <span class="n">Back</span><span class="o">.</span><span class="n">GREEN</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">DIM</span> <span class="o">+</span> <span class="n">printDataFrame</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">paramCounter</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
            <span class="n">printDataFrame</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">paramCounter</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">printDataFrame</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">paramCounter</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span>
        <span class="c1"># If wrong, then color red</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">printDataFrame</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">paramCounter</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">Fore</span><span class="o">.</span><span class="n">WHITE</span> <span class="o">+</span> <span class="n">Back</span><span class="o">.</span><span class="n">RED</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">DIM</span> <span class="o">+</span> <span class="n">printDataFrame</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">paramCounter</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
            <span class="n">printDataFrame</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">paramCounter</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">printDataFrame</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">paramCounter</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span>



    <span class="c1"># Print Final Data Frame</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tabulate</span><span class="p">(</span><span class="n">printDataFrame</span><span class="p">,</span> <span class="n">showindex</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">printDataFrame</span><span class="o">.</span><span class="n">columns</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">)</span>

    <span class="c1"># Script Footer</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;============= Thank You For Using CCACSAC! ==============&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;== Just Remember: It&#39;s Always a Great Day At The Club! ==&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;================= Author: Chris Hinkson =================&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;======= Contact: Christopher.Hinkson@clubcar.com ========&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;======== CC Anti-Canape: SDO Auto Configuration =========&quot;</span><span class="p">)</span>

    <span class="c1"># Return true for success</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="drivers.automator.SdoScriptManager.script_readFaultsTest" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">script_readFaultsTest</span><span class="p">(</span><span class="n">timeDelayIn</span><span class="o">=</span><span class="mf">0.03</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>This script is designed to implement the functionality of Anti-Canape objects in order to test the reading of SDO messages. It will attempt to read all faults SDO messages currently in the loaded DOT.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>timeDelayIn</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The delay (in seconds) that the program should wait before sending another SDO message. Defaults to 0.03.</p>
            </div>
          </td>
          <td>
                <code>0.03</code>
          </td>
        </tr>
        <tr>
          <td><code>iterations</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The amount of times the test should be run. Defaults to 1.</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>timeout</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The timeout in seconds for reading the message from the bus. Defaults to None. If None, thread continues indefinitely.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="drivers.automator.AntiCanapeError" href="#drivers.automator.AntiCanapeError">AntiCanapeError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Custom Exception that allows for general exception handling and debugging information.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>drivers\automator.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">script_readFaultsTest</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeDelayIn</span><span class="p">:</span><span class="nb">float</span><span class="o">=</span><span class="mf">0.03</span><span class="p">,</span> <span class="n">iterations</span><span class="p">:</span><span class="nb">int</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span><span class="nb">int</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39; This script is designed to implement the functionality of Anti-Canape objects in order to test the reading of SDO messages. It will attempt to read all faults SDO messages currently in the loaded DOT.</span>

<span class="sd">    Args:</span>
<span class="sd">        timeDelayIn (float, optional): The delay (in seconds) that the program should wait before sending another SDO message. Defaults to 0.03.</span>
<span class="sd">        iterations (int, optional): The amount of times the test should be run. Defaults to 1.</span>
<span class="sd">        timeout (int): The timeout in seconds for reading the message from the bus. Defaults to None. If None, thread continues indefinitely.</span>


<span class="sd">    Raises:</span>
<span class="sd">        AntiCanapeError: Custom Exception that allows for general exception handling and debugging information.</span>

<span class="sd">    &#39;&#39;&#39;</span>        
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Get the bus for the specified driver</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">getDefaultBus</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="p">)</span> <span class="k">as</span> <span class="n">bus</span><span class="p">:</span>

            <span class="c1"># Get the CAN message reader for the specified bus</span>
            <span class="n">reader</span> <span class="o">=</span> <span class="n">ACReader</span><span class="p">(</span><span class="n">busIn</span><span class="o">=</span><span class="n">bus</span><span class="p">)</span>
            <span class="c1"># Get the CAN message writer for the specified bus</span>
            <span class="n">writer</span> <span class="o">=</span> <span class="n">ACWriter</span><span class="p">(</span><span class="n">busIn</span><span class="o">=</span><span class="n">bus</span><span class="p">)</span>
            <span class="c1"># Get the DBC parser for lookup (CAN)</span>
            <span class="n">dbcParser</span> <span class="o">=</span> <span class="n">dbcParse</span><span class="p">()</span>
            <span class="c1"># Get the DOT parser for lookup (SDO)</span>
            <span class="n">dotParser</span> <span class="o">=</span> <span class="n">dotParse</span><span class="p">()</span>
            <span class="c1">#Load the DBC dictionaries into the parser</span>
            <span class="n">dbcParser</span> <span class="o">=</span> <span class="n">dbcParse</span><span class="p">()</span>
            <span class="c1"># Load the DOT dictionaries into the parser</span>
            <span class="n">dotParser</span><span class="o">.</span><span class="n">loadDictionaries</span><span class="p">()</span>
            <span class="c1"># Load the DOT parser into the reader</span>
            <span class="n">reader</span><span class="o">.</span><span class="n">loadDotParser</span><span class="p">(</span><span class="n">dotParser</span><span class="o">=</span><span class="n">dotParser</span><span class="p">)</span>
            <span class="c1"># Load the DOT parser into the writer</span>
            <span class="n">writer</span><span class="o">.</span><span class="n">loadDotParser</span><span class="p">(</span><span class="n">dotParser</span><span class="o">=</span><span class="n">dotParser</span><span class="p">)</span>

            <span class="c1"># Get an automator</span>
            <span class="n">currentAutomator</span> <span class="o">=</span> <span class="n">sdoAutomator</span><span class="p">(</span><span class="n">readerIn</span><span class="o">=</span><span class="n">reader</span><span class="p">,</span> <span class="n">writerIn</span><span class="o">=</span><span class="n">writer</span><span class="p">,</span> <span class="n">dbcParseIn</span><span class="o">=</span><span class="n">dbcParser</span><span class="p">,</span> <span class="n">dotParseIn</span><span class="o">=</span><span class="n">dotParser</span><span class="p">)</span>

            <span class="c1"># Repeat the test iterations times</span>
            <span class="k">for</span> <span class="n">iterCount</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">iterations</span><span class="p">):</span>

                <span class="c1"># Get the operation error when bus is reinitialized</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="c1"># Iteration Manager</span>
                    <span class="k">if</span> <span class="n">iterations</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Beginning Iteration&quot;</span><span class="p">,</span> <span class="n">iterCount</span><span class="p">)</span>

                    <span class="c1"># Faults list creation</span>
                    <span class="n">faultsList</span> <span class="o">=</span> <span class="p">[</span><span class="mi">20480</span><span class="p">,</span> <span class="mi">20481</span><span class="p">]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">20483</span><span class="p">,</span> <span class="mi">20499</span><span class="p">))</span>

                    <span class="c1"># Check if bus is overloaded</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="c1"># Fault Read Test</span>
                        <span class="n">currentAutomator</span><span class="o">.</span><span class="n">readSdoList</span><span class="p">(</span><span class="n">sdoList</span><span class="o">=</span><span class="n">faultsList</span><span class="p">,</span> <span class="n">timeDelay</span><span class="o">=</span><span class="n">timeDelayIn</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
                    <span class="k">except</span> <span class="p">(</span><span class="ne">KeyboardInterrupt</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span> <span class="c1">#For when user interrupts program</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Program Execution Halted by Keyboard Interrupt!&quot;</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
                            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: A heavy/overloaded bus was detected! Restarting script...&quot;</span><span class="p">)</span>
                            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                            <span class="k">raise</span> <span class="n">AntiCanapeError</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                        <span class="k">raise</span> <span class="c1"># If debug mode off, still raise the error as is</span>
                    <span class="k">except</span> <span class="p">(</span><span class="n">BusOverloadError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span> <span class="c1"># For when the bus is overloaded / in error state</span>
                        <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
                            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: A heavy/overloaded bus was detected! Restarting script...&quot;</span><span class="p">)</span>
                            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                        <span class="k">raise</span> <span class="n">AntiCanapeError</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                    <span class="k">except</span> <span class="p">(</span><span class="n">PcanError</span><span class="p">,</span> <span class="n">PcanCanOperationError</span><span class="p">,</span> <span class="n">PcanCanInitializationError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span> <span class="c1"># For when pcan has issues</span>
                        <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
                            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: A PCAN Error was detected!&quot;</span><span class="p">)</span>
                            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                        <span class="k">raise</span> <span class="n">AntiCanapeError</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                    <span class="k">except</span> <span class="p">(</span><span class="n">CanError</span><span class="p">,</span> <span class="n">CanInitializationError</span><span class="p">,</span> <span class="n">CanInterfaceNotImplementedError</span><span class="p">,</span> <span class="n">CanOperationError</span><span class="p">,</span> <span class="n">CanTimeoutError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span> <span class="c1"># Any CAN error</span>
                        <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
                            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: A CAN Error was detected!&quot;</span><span class="p">)</span>
                            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                        <span class="k">raise</span> <span class="n">AntiCanapeError</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                    <span class="k">except</span> <span class="p">(</span><span class="ne">AttributeError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span> <span class="c1"># Silly attribute errors</span>
                        <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
                            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: There has been an error when scanning for the ID!&quot;</span><span class="p">)</span>
                            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                        <span class="k">raise</span> <span class="n">AntiCanapeError</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                    <span class="k">except</span><span class="p">(</span><span class="n">AntiCanapeError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span> <span class="c1"># For an Anti-Canape error deeper down</span>
                        <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
                            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: An Error was detected!&quot;</span><span class="p">)</span>
                            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                            <span class="k">raise</span>

                    <span class="c1"># Extra sleep to allow bus to chill</span>
                    <span class="n">sleep</span><span class="p">(</span><span class="n">timeDelayIn</span><span class="p">)</span>
                    <span class="c1"># Flush the bus buffer</span>
                    <span class="n">bus</span><span class="o">.</span><span class="n">flush_tx_buffer</span><span class="p">()</span>

                <span class="k">except</span><span class="p">(</span><span class="n">AntiCanapeError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span> <span class="c1"># For an Anti-Canape error deeper down</span>
                    <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
                        <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: An Error was detected!&quot;</span><span class="p">)</span>
                        <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                        <span class="k">raise</span>

    <span class="k">except</span> <span class="p">(</span><span class="ne">KeyboardInterrupt</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Program Execution Halted by Keyboard Interrupt!&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
                            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: A heavy/overloaded bus was detected! Restarting script...&quot;</span><span class="p">)</span>
                            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                            <span class="k">raise</span> <span class="n">AntiCanapeError</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
        <span class="k">raise</span>
    <span class="k">except</span><span class="p">(</span><span class="n">AntiCanapeError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span> <span class="c1"># For an Anti-Canape error deeper down</span>
        <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: An Error was detected!&quot;</span><span class="p">)</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
            <span class="k">raise</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: An Error was detected!&quot;</span><span class="p">)</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
            <span class="k">raise</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="drivers.automator.SdoScriptManager.script_writeDstTest" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">script_writeDstTest</span><span class="p">(</span><span class="n">timeDelayIn</span><span class="o">=</span><span class="mf">0.03</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>This script is designed to implement the functionality of Anti-Canape objects in order to test writing the DST SDO messages. It will continually write the DST SDO messages from the DOT to the VCM for the specified amount of iterations. </p>
<p>This script tests the SDO messages by reading the initial value of a SDO parameter present on the VCM, writing a randomized value in the range for each SDO parameter to the VCM, then reading the final value for the SDO parameter present on the VCM. If the value was correctly updated, then the test for that parameter passes.</p>
<p>It will track all correct and error iterations and present them all to the user at the end of script execution.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>timeDelayIn</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The delay (in seconds) that the program should wait before sending another SDO message. Defaults to 0.03.</p>
            </div>
          </td>
          <td>
                <code>0.03</code>
          </td>
        </tr>
        <tr>
          <td><code>iterations</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The amount of times the test should be run. Defaults to 1.</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>timeout</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The timeout in seconds for reading the message from the bus. Defaults to None. If None, thread continues indefinitely.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>bool</code></td>          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>True if the script completed correctly, False otherwise.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>drivers\automator.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">script_writeDstTest</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeDelayIn</span><span class="p">:</span><span class="nb">float</span><span class="o">=</span><span class="mf">0.03</span><span class="p">,</span> <span class="n">iterations</span><span class="p">:</span><span class="nb">int</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39; This script is designed to implement the functionality of Anti-Canape objects in order to test writing the DST SDO messages. It will continually write the DST SDO messages from the DOT to the VCM for the specified amount of iterations. </span>

<span class="sd">    This script tests the SDO messages by reading the initial value of a SDO parameter present on the VCM, writing a randomized value in the range for each SDO parameter to the VCM, then reading the final value for the SDO parameter present on the VCM. If the value was correctly updated, then the test for that parameter passes.</span>

<span class="sd">    It will track all correct and error iterations and present them all to the user at the end of script execution.</span>

<span class="sd">    Args:</span>
<span class="sd">        timeDelayIn (float, optional): The delay (in seconds) that the program should wait before sending another SDO message. Defaults to 0.03.</span>
<span class="sd">        iterations (int, optional): The amount of times the test should be run. Defaults to 1.</span>
<span class="sd">        timeout (int): The timeout in seconds for reading the message from the bus. Defaults to None. If None, thread continues indefinitely.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if the script completed correctly, False otherwise.</span>
<span class="sd">    &#39;&#39;&#39;</span>        
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># DST Result / Error Tracking</span>
        <span class="n">dstErrorCounter</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">dstErrorList</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">dstErrorParamsList</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">dstCorrectList</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Get the bus for the specified driver</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">getDefaultBus</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="p">)</span> <span class="k">as</span> <span class="n">bus</span><span class="p">:</span>

                <span class="c1"># Get the CAN message reader for the specified bus</span>
                <span class="n">reader</span> <span class="o">=</span> <span class="n">ACReader</span><span class="p">(</span><span class="n">busIn</span><span class="o">=</span><span class="n">bus</span><span class="p">)</span>
                <span class="c1"># Get the CAN message writer for the specified bus</span>
                <span class="n">writer</span> <span class="o">=</span> <span class="n">ACWriter</span><span class="p">(</span><span class="n">busIn</span><span class="o">=</span><span class="n">bus</span><span class="p">)</span>
                <span class="n">dbcParser</span> <span class="o">=</span> <span class="n">dbcParse</span><span class="p">()</span>
                <span class="c1"># Get the DOT parser for lookup (SDO)</span>
                <span class="n">dotParser</span> <span class="o">=</span> <span class="n">dotParse</span><span class="p">()</span>
                <span class="c1">#Load the DBC dictionaries into the parser</span>
                <span class="n">dbcParser</span> <span class="o">=</span> <span class="n">dbcParse</span><span class="p">()</span>
                <span class="c1"># Load the DOT dictionaries into the parser</span>
                <span class="n">dotParser</span><span class="o">.</span><span class="n">loadDictionaries</span><span class="p">()</span>
                <span class="c1"># Load the DOT parser into the reader</span>
                <span class="n">reader</span><span class="o">.</span><span class="n">loadDotParser</span><span class="p">(</span><span class="n">dotParser</span><span class="o">=</span><span class="n">dotParser</span><span class="p">)</span>
                <span class="c1"># Load the DOT parser into the writer</span>
                <span class="n">writer</span><span class="o">.</span><span class="n">loadDotParser</span><span class="p">(</span><span class="n">dotParser</span><span class="o">=</span><span class="n">dotParser</span><span class="p">)</span>

                <span class="c1"># Get an automator</span>
                <span class="n">currentAutomator</span> <span class="o">=</span> <span class="n">sdoAutomator</span><span class="p">(</span><span class="n">readerIn</span><span class="o">=</span><span class="n">reader</span><span class="p">,</span> <span class="n">writerIn</span><span class="o">=</span><span class="n">writer</span><span class="p">,</span> <span class="n">dbcParseIn</span><span class="o">=</span><span class="n">dbcParser</span><span class="p">,</span> <span class="n">dotParseIn</span><span class="o">=</span><span class="n">dotParser</span><span class="p">)</span>

                <span class="c1"># Repeat the test 100 times</span>
                <span class="k">for</span> <span class="n">iterCount</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">iterations</span><span class="p">):</span>
                    <span class="c1"># Get the operation error every 50 when bus is reinitialized</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="c1"># DST SDO Automation Test</span>
                        <span class="n">dstSdoAutomator</span> <span class="o">=</span> <span class="n">currentAutomator</span><span class="o">.</span><span class="n">writeSdoDict</span><span class="p">(</span><span class="n">sdoDictionary</span><span class="o">=</span><span class="p">{</span>
                            <span class="s2">&quot;UTC_TimeZoneOffset_Minutes&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">840</span><span class="p">))),</span>
                            <span class="s2">&quot;DST_enable&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                            <span class="s2">&quot;DST_rule_UTC_start&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]),</span>
                            <span class="s2">&quot;DST_rule_dateType_start&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]),</span>
                            <span class="s2">&quot;DST_rule_date_start&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">32</span><span class="p">))),</span> <span class="c1">#[1, 31] == [1, 32)</span>
                            <span class="s2">&quot;DST_rule_month_start&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">13</span><span class="p">))),</span> <span class="c1">#[1, 12] == [1, 13)</span>
                            <span class="s2">&quot;DST_rule_week_start&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">))),</span> <span class="c1">#[1, 4] == [1, 5)</span>
                            <span class="s2">&quot;DST_rule_weekday_start&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">))),</span> <span class="c1">#[0, 6] == [0, 7)</span>
                            <span class="s2">&quot;DST_rule_time_start&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1441</span><span class="p">))),</span> <span class="c1">#[0, 1440] == [0, 1441)</span>
                            <span class="s2">&quot;DST_rule_UTC_end&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]),</span>
                            <span class="s2">&quot;DST_rule_dateType_end&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]),</span>
                            <span class="s2">&quot;DST_rule_date_end&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">32</span><span class="p">))),</span> <span class="c1">#[1, 31] == [1, 32)</span>
                            <span class="s2">&quot;DST_rule_month_end&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">13</span><span class="p">))),</span> <span class="c1">#[1, 12] == [1, 13)</span>
                            <span class="s2">&quot;DST_rule_week_end&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">))),</span> <span class="c1">#[1, 4] == [1, 5)</span>
                            <span class="s2">&quot;DST_rule_weekday_end&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">))),</span> <span class="c1">#[0, 6] == [0, 7)</span>
                            <span class="s2">&quot;DST_rule_time_end&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1441</span><span class="p">))),</span> <span class="c1">#[0, 1440] == [0, 1441)</span>
                        <span class="p">},</span>
                        <span class="c1"># Pass on the time delay</span>
                        <span class="n">timeDelay</span><span class="o">=</span><span class="n">timeDelayIn</span><span class="p">)</span>

                        <span class="c1"># Results</span>
                        <span class="k">if</span> <span class="n">dstSdoAutomator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                            <span class="n">dstCorrectList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iterCount</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">dstErrorCounter</span> <span class="o">+=</span> <span class="n">dstSdoAutomator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                            <span class="n">dstErrorParamsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dstSdoAutomator</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
                            <span class="n">dstErrorList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iterCount</span><span class="p">)</span>


                        <span class="c1"># Iteration Manager</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Beginning Iteration&quot;</span><span class="p">,</span> <span class="n">iterCount</span><span class="p">)</span>  

                    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Program Execution Halted by Keyboard Interrupt!&quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Program Execution Halted by Keyboard Interrupt!&quot;</span><span class="p">)</span>
        <span class="k">except</span><span class="p">(</span><span class="n">AntiCanapeError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span> <span class="c1"># For an Anti-Canape error deeper down</span>
            <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: An Error was detected!&quot;</span><span class="p">)</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                <span class="k">raise</span>

        <span class="c1"># Overall Result Display</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Test Completed!&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;DST Error Counter: &quot;</span><span class="p">,</span> <span class="n">dstErrorCounter</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

        <span class="c1"># Error Result Display</span>
        <span class="k">if</span> <span class="n">dstErrorCounter</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;DST Error List: &quot;</span><span class="p">,</span> <span class="n">dstErrorList</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;DST Error Params: &quot;</span><span class="p">,</span> <span class="n">dstErrorParamsList</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

        <span class="c1"># Correct Result Display</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;DST Correct: &quot;</span><span class="p">,</span> <span class="n">dstCorrectList</span><span class="p">)</span>

    <span class="k">except</span><span class="p">(</span><span class="n">AntiCanapeError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span> <span class="c1"># For an Anti-Canape error deeper down</span>
        <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: An Error was detected!&quot;</span><span class="p">)</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
            <span class="k">raise</span>

    <span class="c1">#Return true for total script completion</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="drivers.automator.SdoScriptManager.script_writeVehicleConfigActiveTest" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">script_writeVehicleConfigActiveTest</span><span class="p">(</span><span class="n">timeDelayIn</span><span class="o">=</span><span class="mf">0.03</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>This script is designed to implement the functionality of Anti-Canape objects in order to test writing the vehicle config active SDO messages. It will continually write the VehicleConfig_Active SDO messages from the DOT to the VCM for the specified amount of iterations. </p>
<p>This script tests the SDO messages by reading the initial value of a SDO parameter present on the VCM, writing a randomized value in the range for each SDO parameter to the VCM, then reading the final value for the SDO parameter present on the VCM. If the value was correctly updated, then the test for that parameter passes.</p>
<p>It will track all correct and error iterations and present them all to the user at the end of script execution.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>timeDelayIn</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The delay (in seconds) that the program should wait before sending another SDO message. Defaults to 0.03.</p>
            </div>
          </td>
          <td>
                <code>0.03</code>
          </td>
        </tr>
        <tr>
          <td><code>iterations</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The amount of times the test should be run. Defaults to 1.</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>timeout</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The timeout in seconds for reading the message from the bus. Defaults to None. If None, thread continues indefinitely.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>list</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>[passes, fails] (list): A list containing the amount of passed tests and amount of failed tests</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>drivers\automator.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">script_writeVehicleConfigActiveTest</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeDelayIn</span><span class="p">:</span><span class="nb">float</span><span class="o">=</span><span class="mf">0.03</span><span class="p">,</span> <span class="n">iterations</span><span class="p">:</span><span class="nb">int</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span><span class="nb">int</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39; This script is designed to implement the functionality of Anti-Canape objects in order to test writing the vehicle config active SDO messages. It will continually write the VehicleConfig_Active SDO messages from the DOT to the VCM for the specified amount of iterations. </span>

<span class="sd">    This script tests the SDO messages by reading the initial value of a SDO parameter present on the VCM, writing a randomized value in the range for each SDO parameter to the VCM, then reading the final value for the SDO parameter present on the VCM. If the value was correctly updated, then the test for that parameter passes.</span>

<span class="sd">    It will track all correct and error iterations and present them all to the user at the end of script execution.</span>

<span class="sd">    Args:</span>
<span class="sd">        timeDelayIn (float, optional): The delay (in seconds) that the program should wait before sending another SDO message. Defaults to 0.03.</span>
<span class="sd">        iterations (int, optional): The amount of times the test should be run. Defaults to 1.</span>
<span class="sd">        timeout (int): The timeout in seconds for reading the message from the bus. Defaults to None. If None, thread continues indefinitely.</span>

<span class="sd">    Returns:</span>
<span class="sd">        [passes, fails] (list): A list containing the amount of passed tests and amount of failed tests</span>
<span class="sd">    &#39;&#39;&#39;</span>        
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Vehicle Config Result / Error Tracking</span>
        <span class="n">vehicleConfigCorrectList</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">vehicleConfigErrorCounter</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">vehicleConfigErrorList</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">vehicleConfigErrorParamsList</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Get the bus for the specified driver</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">getDefaultBus</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="p">)</span> <span class="k">as</span> <span class="n">bus</span><span class="p">:</span>

                <span class="c1"># Get the CAN message reader for the specified bus</span>
                <span class="n">reader</span> <span class="o">=</span> <span class="n">ACReader</span><span class="p">(</span><span class="n">busIn</span><span class="o">=</span><span class="n">bus</span><span class="p">)</span>
                <span class="c1"># Get the CAN message writer for the specified bus</span>
                <span class="n">writer</span> <span class="o">=</span> <span class="n">ACWriter</span><span class="p">(</span><span class="n">busIn</span><span class="o">=</span><span class="n">bus</span><span class="p">)</span>
                <span class="c1"># Get the DBC parser for lookup (CAN)</span>
                <span class="n">dbcParser</span> <span class="o">=</span> <span class="n">dbcParse</span><span class="p">()</span>
                <span class="c1"># Get the DOT parser for lookup (SDO)</span>
                <span class="n">dotParser</span> <span class="o">=</span> <span class="n">dotParse</span><span class="p">()</span>
                <span class="c1">#Load the DBC dictionaries into the parser</span>
                <span class="n">dbcParser</span> <span class="o">=</span> <span class="n">dbcParse</span><span class="p">()</span>
                <span class="c1"># Load the DOT dictionaries into the parser</span>
                <span class="n">dotParser</span><span class="o">.</span><span class="n">loadDictionaries</span><span class="p">()</span>
                <span class="c1"># Load the DOT parser into the reader</span>
                <span class="n">reader</span><span class="o">.</span><span class="n">loadDotParser</span><span class="p">(</span><span class="n">dotParser</span><span class="o">=</span><span class="n">dotParser</span><span class="p">)</span>
                <span class="c1"># Load the DOT parser into the writer</span>
                <span class="n">writer</span><span class="o">.</span><span class="n">loadDotParser</span><span class="p">(</span><span class="n">dotParser</span><span class="o">=</span><span class="n">dotParser</span><span class="p">)</span>

                <span class="c1"># Get an automator</span>
                <span class="n">currentAutomator</span> <span class="o">=</span> <span class="n">sdoAutomator</span><span class="p">(</span><span class="n">readerIn</span><span class="o">=</span><span class="n">reader</span><span class="p">,</span> <span class="n">writerIn</span><span class="o">=</span><span class="n">writer</span><span class="p">,</span> <span class="n">dbcParseIn</span><span class="o">=</span><span class="n">dbcParser</span><span class="p">,</span> <span class="n">dotParseIn</span><span class="o">=</span><span class="n">dotParser</span><span class="p">)</span>

                <span class="c1"># Repeat the test 100 times</span>
                <span class="k">for</span> <span class="n">iterCount</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">iterations</span><span class="p">):</span>
                    <span class="c1"># Get the operation error every 50 when bus is reinitialized</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="c1"># Iteration Manager</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Beginning Iteration&quot;</span><span class="p">,</span> <span class="n">iterCount</span><span class="p">)</span>

                        <span class="c1"># vehicleConfig SDO Automation Test</span>
                        <span class="c1"># If it takes longer than 60 seconds, quit</span>
                        <span class="n">vehicleConfigSdoAutomator</span> <span class="o">=</span> <span class="n">currentAutomator</span><span class="o">.</span><span class="n">writeSdoDict</span><span class="p">(</span><span class="n">sdoDictionary</span><span class="o">=</span><span class="p">{</span>
                            <span class="s2">&quot;VehicleConfig_Active_PedalUp&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]),</span>
                            <span class="s2">&quot;VehicleConfig_Active_DCDCConverter&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                            <span class="s2">&quot;VehicleConfig_Active_Horn&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                            <span class="s2">&quot;VehicleConfig_Active_Headlights&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                            <span class="s2">&quot;VehicleConfig_Active_TurnSignals&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                            <span class="s2">&quot;VehicleConfig_Active_HazardSwitch&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                            <span class="s2">&quot;VehicleConfig_Active_BrakeLights&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                            <span class="s2">&quot;VehicleConfig_Active_WigWag&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                            <span class="s2">&quot;VehicleConfig_Active_LogoLight&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                            <span class="s2">&quot;VehicleConfig_Active_DRLEnable&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                            <span class="s2">&quot;VehicleConfig_Active_VisageControl&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                            <span class="s2">&quot;VehiceConfig_Active_BodyBuilderRelay&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                            <span class="s2">&quot;VehicleConfig_Active_PerformanceProfile&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]),</span>
                            <span class="s2">&quot;VehicleConfig_Active_NumBeepsStartOfCharge&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]),</span>
                            <span class="s2">&quot;VehicleConfig_Active_OffPeakCharging&quot;</span><span class="p">:</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]),</span>
                            <span class="s2">&quot;VehicleConfig_Active_SOC_Mode&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">]),</span>
                            <span class="s2">&quot;VehicleConfig_Active_DRL_Mode&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>

                            <span class="c1"># Timeout&#39;s can only be every 20, so scale the random choice</span>
                            <span class="s2">&quot;VehicleConfig_Active_Acc_Timeout&quot;</span><span class="p">:</span> <span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">360000</span><span class="p">)))</span> <span class="o">*</span> <span class="mi">20</span><span class="p">),</span>
                            <span class="s2">&quot;VehicleConfig_Active_Run_Timeout&quot;</span><span class="p">:</span> <span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">135000</span><span class="p">)))</span> <span class="o">*</span> <span class="mi">20</span><span class="p">),</span>
                            <span class="s2">&quot;VehicleConfig_Active_KeyOffLight_Timeout&quot;</span><span class="p">:</span> <span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">30000</span><span class="p">)))</span> <span class="o">*</span> <span class="mi">20</span><span class="p">),</span>

                            <span class="c1"># Fails, some of the time</span>
                            <span class="s2">&quot;VehicleConfig_Active_BSI&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                            <span class="s2">&quot;VehicleConfig_Active_isAPPS&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                            <span class="s2">&quot;VehicleConfig_Active_MaxSpeedRev&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">76</span><span class="p">))),</span>

                            <span class="c1"># Timeout&#39;s can only be every 20, so scale the random choice</span>
                            <span class="s2">&quot;VehicleConfig_Active_KeyOffHorn_Timeout&quot;</span><span class="p">:</span> <span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2160000</span><span class="p">)))</span> <span class="o">*</span> <span class="mi">20</span><span class="p">),</span>

                            <span class="s2">&quot;VehicleConfig_Active_MotorType&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]),</span>
                            <span class="s2">&quot;VehicleConfig_Active_WindshieldWiper&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                            <span class="s2">&quot;VehicleConfig_Active_WindshieldWasher&quot;</span><span class="p">:</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                            <span class="s2">&quot;VehicleConfig_Active_AudioAmplifier&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                            <span class="s2">&quot;VehicleConfig_Active_Motion_Mode&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                            <span class="p">},</span> 
                            <span class="c1"># Pass on the time delay and timeout</span>
                            <span class="n">timeDelay</span><span class="o">=</span><span class="n">timeDelayIn</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>

                        <span class="c1"># Extra sleep to allow bus to chill</span>
                        <span class="n">sleep</span><span class="p">(</span><span class="n">timeDelayIn</span><span class="p">)</span>
                        <span class="c1"># Flush the bus buffer</span>
                        <span class="n">bus</span><span class="o">.</span><span class="n">flush_tx_buffer</span><span class="p">()</span>

                        <span class="c1"># Results</span>
                        <span class="k">if</span> <span class="n">vehicleConfigSdoAutomator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                            <span class="n">vehicleConfigCorrectList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iterCount</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">vehicleConfigErrorCounter</span> <span class="o">+=</span> <span class="n">vehicleConfigSdoAutomator</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                            <span class="n">vehicleConfigErrorParamsList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vehicleConfigSdoAutomator</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
                            <span class="n">vehicleConfigErrorList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iterCount</span><span class="p">)</span>  

                    <span class="c1"># Get the operation error every 50 when bus is reinitialized</span>
                    <span class="k">except</span> <span class="p">(</span><span class="n">CanOperationError</span><span class="p">,</span> <span class="n">PcanCanOperationError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: An Operation Error Has Been Detected!&quot;</span><span class="p">)</span>
                        <span class="nb">print</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>



        <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Program Execution Halted by Keyboard Interrupt!&quot;</span><span class="p">)</span>

        <span class="c1"># Overall Result Display</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Test Completed!&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;VehicleConfig Error Counter: &quot;</span><span class="p">,</span> <span class="n">vehicleConfigErrorCounter</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

        <span class="c1"># Error Result Display</span>
        <span class="k">if</span> <span class="n">vehicleConfigErrorCounter</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;VehicleConfig Error List: &quot;</span><span class="p">,</span> <span class="n">vehicleConfigErrorList</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;VehicleConfig Error Params: &quot;</span><span class="p">,</span> <span class="n">vehicleConfigErrorParamsList</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

        <span class="c1"># Correct Result Display</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;VehicleConfig Correct:&quot;</span><span class="p">,</span> <span class="n">vehicleConfigCorrectList</span><span class="p">)</span>

    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Program Execution Halted by Keyboard Interrupt!&quot;</span><span class="p">)</span>

    <span class="c1"># Return amount of passed tests and failed tests</span>
    <span class="k">return</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">vehicleConfigCorrectList</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">vehicleConfigErrorList</span><span class="p">)]</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h2 id="drivers.automator.sdoAutomator" class="doc doc-heading">
          <code>sdoAutomator</code>


</h2>


  <div class="doc doc-contents ">

  
      <p>This class provides a thread-based automator for interacting with SDO messages. Specifically, it creates an object that contains two automation methods, being writeSdoDict and readSdoDict. It can be used to gather results from reading and writing sdo messages automatically without the need to continually reference lower-level support methods.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>reader</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An ACReader object to use for reading to the CAN bus.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>writer</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An ACWriter object to use for writing to the CAN bus.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>dbcParse</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A dbcAutoParse object to use for looking up dbc information (CAN messages, signals, and attributes).</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>dotParse</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A dotAutoParse object to use for looking up dot information (SDO ID's, payloads, and attributes).</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



<p><strong>Examples:</strong></p>
    <p>mySdoAutomator(myReader, myWriter, myDbcParse, myDotParse)
mySdoAutomator.writeSdoDict({"VehicleConfig_Active_PedalUp":1})
mySdoAutomator.readSdoList({"VehicleConfig_Active_PedalUp"})</p>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>Exception</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Raised if there is an error with SDO reading/writing automation.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>Exception</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Raised if there is an error with SDO reading/writing automation.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>drivers\automator.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">sdoAutomator</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39; This class provides a thread-based automator for interacting with SDO messages. Specifically, it creates an object that contains two automation methods, being writeSdoDict and readSdoDict. It can be used to gather results from reading and writing sdo messages automatically without the need to continually reference lower-level support methods.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        reader: An ACReader object to use for reading to the CAN bus.</span>
<span class="sd">        writer: An ACWriter object to use for writing to the CAN bus.</span>
<span class="sd">        dbcParse: A dbcAutoParse object to use for looking up dbc information (CAN messages, signals, and attributes).</span>
<span class="sd">        dotParse: A dotAutoParse object to use for looking up dot information (SDO ID&#39;s, payloads, and attributes).</span>

<span class="sd">    Examples:</span>
<span class="sd">        mySdoAutomator(myReader, myWriter, myDbcParse, myDotParse)</span>
<span class="sd">        mySdoAutomator.writeSdoDict({&quot;VehicleConfig_Active_PedalUp&quot;:1})</span>
<span class="sd">        mySdoAutomator.readSdoList({&quot;VehicleConfig_Active_PedalUp&quot;})</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception: Raised if there is an error with SDO reading/writing automation.</span>
<span class="sd">        Exception: Raised if there is an error with SDO reading/writing automation.</span>
<span class="sd">    &#39;&#39;&#39;</span>    
    <span class="c1">########################</span>
    <span class="c1"># CLASS INITIALIZATION #</span>
    <span class="c1">########################</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">readerIn</span><span class="p">:</span><span class="n">ACReader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">writerIn</span><span class="p">:</span><span class="n">ACWriter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dbcParseIn</span><span class="p">:</span><span class="n">dbcParse</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dotParseIn</span><span class="p">:</span><span class="n">dotParse</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; This method will initialize an sdoAutomator object to provide an instance for automation. It will set the needed threads for the instance reader, writer, dbcParse, and dotParse.</span>

<span class="sd">        Args:</span>
<span class="sd">            readerIn (ACReader, optional): An ACReader object to use for reading to the CAN bus. Defaults to None.</span>
<span class="sd">            writerIn (ACWriter, optional): An ACWriter object to use for writing to the CAN bus. Defaults to None.</span>
<span class="sd">            dbcParseIn (dbcParse, optional): A dbcAutoParse object to use for looking up dbc information (CAN messages, signals, and attributes). Defaults to None.</span>
<span class="sd">            dotParseIn (dotParse, optional): A dotAutoParse object to use for looking up dot information (SDO ID&#39;s, payloads, and attributes). Defaults to None.</span>
<span class="sd">        &#39;&#39;&#39;</span>        
        <span class="c1"># Set thread objects</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reader</span> <span class="o">=</span> <span class="n">readerIn</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writer</span> <span class="o">=</span> <span class="n">writerIn</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dbcParse</span> <span class="o">=</span> <span class="n">dbcParseIn</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dotParse</span> <span class="o">=</span> <span class="n">dotParseIn</span>


    <span class="c1">###################################</span>
    <span class="c1"># SDO AUTOMATIC DICTIONARY WRITER #</span>
    <span class="c1">###################################</span>
    <span class="k">def</span> <span class="nf">writeSdoDict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sdoDictionary</span><span class="p">:</span><span class="nb">dict</span><span class="p">,</span> <span class="n">timeDelay</span><span class="p">:</span><span class="nb">float</span><span class="o">=</span><span class="mf">0.03</span><span class="p">,</span> <span class="n">doPrint</span><span class="p">:</span><span class="nb">bool</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span><span class="nb">int</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; This method is designed to  write a given dictionary of SDO parameters in the form of {param:new_value}.</span>

<span class="sd">        Args:</span>
<span class="sd">            sdoDictionary (dict): Dictionary of param-value pairs.</span>
<span class="sd">            timeDelay (float, optional): The delay (in seconds) that the program should wait before sending another SDO message. Defaults to 0.03.</span>
<span class="sd">            doPrint (bool, optional): Whether to print results or not. Defaults to True.</span>
<span class="sd">            timeout (int): The timeout length (in seconds) for each read and write command.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception: Raises an Exception if the sdoDictionary is empty.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: A list containing [sdoDataFrame, errorCounter, errorList].</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># If the dictionary is empty, raise an exception to alert and stop execution</span>
            <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sdoDictionary</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">Back</span><span class="o">.</span><span class="n">MAGENTA</span> <span class="o">+</span> <span class="n">Fore</span><span class="o">.</span><span class="n">CYAN</span> <span class="o">+</span> <span class="s2">&quot;CC Anti-Canape Automator: You must provide a dictionary of param-value pairs to write!&quot;</span><span class="p">)</span>

            <span class="c1"># Create the return data frame</span>
            <span class="n">sdoDataFrame</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Parameter Name&#39;</span><span class="p">,</span> <span class="s1">&#39;Initial Read Value&#39;</span><span class="p">,</span> <span class="s1">&#39;Written Value&#39;</span><span class="p">,</span> <span class="s1">&#39;Final Read Value&#39;</span><span class="p">])</span>

            <span class="c1"># Create the printing data frame</span>
            <span class="n">printDataFrame</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="n">Fore</span><span class="o">.</span><span class="n">WHITE</span> <span class="o">+</span> <span class="n">Back</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">DIM</span> <span class="o">+</span> <span class="s1">&#39; Parameter Name &#39;</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">,</span> <span class="n">Fore</span><span class="o">.</span><span class="n">WHITE</span> <span class="o">+</span> <span class="n">Back</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">DIM</span> <span class="o">+</span> <span class="s1">&#39; Initial Read Value &#39;</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">,</span> <span class="n">Fore</span><span class="o">.</span><span class="n">WHITE</span> <span class="o">+</span> <span class="n">Back</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">DIM</span> <span class="o">+</span> <span class="s1">&#39; Written Value &#39;</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">,</span> <span class="n">Fore</span><span class="o">.</span><span class="n">WHITE</span> <span class="o">+</span> <span class="n">Back</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">DIM</span> <span class="o">+</span> <span class="s1">&#39; Final Read Value &#39;</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">])</span>

            <span class="c1"># Initialize error counter</span>
            <span class="n">errorCounter</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">errorList</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="c1"># For each parameter to send</span>
            <span class="k">for</span> <span class="n">paramToSend</span> <span class="ow">in</span> <span class="n">sdoDictionary</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="c1"># Create the initial parameter list, starting with the parameter name</span>
                <span class="n">paramReturnList</span> <span class="o">=</span> <span class="p">[</span><span class="n">paramToSend</span><span class="p">]</span>
                <span class="n">paramPrintList</span> <span class="o">=</span> <span class="p">[]</span>

                <span class="k">try</span><span class="p">:</span>
                    <span class="c1"># Read the initial value and add it to the list</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">reader</span><span class="o">.</span><span class="n">singleSdoRead</span><span class="p">(</span><span class="n">mainId</span><span class="o">=</span><span class="n">paramToSend</span><span class="p">,</span> <span class="n">writer</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">writer</span><span class="p">,</span> <span class="n">timeoutIn</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
                    <span class="n">pol</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reader</span><span class="o">.</span><span class="n">getSdoResponse</span><span class="p">(</span><span class="n">doPrint</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">timeoutIn</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
                    <span class="n">paramReturnList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pol</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
                <span class="k">except</span> <span class="n">CanError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: An Error Has Occured When Communicating with the CAN Bus!&quot;</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: This error got thrown on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>

                <span class="n">sleep</span><span class="p">(</span><span class="n">timeDelay</span><span class="p">)</span>

                <span class="k">try</span><span class="p">:</span>
                    <span class="c1"># Write the new value and add it to the list</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">writer</span><span class="o">.</span><span class="n">singleSdoWrite</span><span class="p">(</span><span class="n">mainId</span><span class="o">=</span><span class="n">paramToSend</span><span class="p">,</span> <span class="n">payloadIn</span><span class="o">=</span><span class="n">sdoDictionary</span><span class="p">[</span><span class="n">paramToSend</span><span class="p">],</span> <span class="n">timeoutIn</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
                    <span class="n">paramReturnList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sdoDictionary</span><span class="p">[</span><span class="n">paramToSend</span><span class="p">])</span>
                    <span class="n">olp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reader</span><span class="o">.</span><span class="n">getSdoResponse</span><span class="p">(</span><span class="n">doPrint</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">timeoutIn</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
                <span class="k">except</span> <span class="n">CanError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: An Error Has Occured When Communicating with the CAN Bus!&quot;</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: This error got thrown on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>

                <span class="n">sleep</span><span class="p">(</span><span class="n">timeDelay</span><span class="p">)</span>

                <span class="k">try</span><span class="p">:</span>
                    <span class="c1"># Read the final value and add it to the list</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">reader</span><span class="o">.</span><span class="n">singleSdoRead</span><span class="p">(</span><span class="n">mainId</span><span class="o">=</span><span class="n">paramToSend</span><span class="p">,</span> <span class="n">writer</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">writer</span><span class="p">,</span> <span class="n">timeoutIn</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
                    <span class="n">lop</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reader</span><span class="o">.</span><span class="n">getSdoResponse</span><span class="p">(</span><span class="n">doPrint</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">timeoutIn</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
                    <span class="n">paramReturnList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lop</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
                <span class="k">except</span> <span class="n">CanError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: An Error Has Occured When Communicating with the CAN Bus!&quot;</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: This error got thrown on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>

                <span class="n">sleep</span><span class="p">(</span><span class="n">timeDelay</span><span class="p">)</span>

                <span class="c1"># Add the return row to the dataframe</span>
                <span class="n">sdoDataFrame</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">sdoDataFrame</span><span class="o">.</span><span class="n">index</span><span class="p">)]</span> <span class="o">=</span> <span class="n">paramReturnList</span>

                <span class="c1"># Check if the written value matched the final read value</span>
                <span class="k">if</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">paramReturnList</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(</span><span class="n">paramReturnList</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">])):</span>
                    <span class="c1"># If True, then the write was successful, so we color the param name green</span>
                    <span class="n">paramPrintList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Back</span><span class="o">.</span><span class="n">GREEN</span> <span class="o">+</span> <span class="n">Fore</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">BRIGHT</span> <span class="o">+</span> <span class="n">paramToSend</span><span class="p">)</span>

                    <span class="c1"># Add the rest of the values in colored text aswell</span>
                    <span class="n">paramPrintList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Back</span><span class="o">.</span><span class="n">GREEN</span> <span class="o">+</span> <span class="n">Fore</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">BRIGHT</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">paramReturnList</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
                    <span class="n">paramPrintList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Back</span><span class="o">.</span><span class="n">GREEN</span> <span class="o">+</span> <span class="n">Fore</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">BRIGHT</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">paramReturnList</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
                    <span class="n">paramPrintList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Back</span><span class="o">.</span><span class="n">GREEN</span> <span class="o">+</span> <span class="n">Fore</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">BRIGHT</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">paramReturnList</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">)</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># If False, then the write was not successful, so we color the param name red</span>
                    <span class="n">paramPrintList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Back</span><span class="o">.</span><span class="n">RED</span> <span class="o">+</span> <span class="n">Fore</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">BRIGHT</span> <span class="o">+</span> <span class="n">paramToSend</span><span class="p">)</span>

                    <span class="c1"># Add the rest of the values in colored text aswell</span>
                    <span class="n">paramPrintList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Back</span><span class="o">.</span><span class="n">RED</span> <span class="o">+</span> <span class="n">Fore</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">BRIGHT</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">paramReturnList</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
                    <span class="n">paramPrintList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Back</span><span class="o">.</span><span class="n">RED</span> <span class="o">+</span> <span class="n">Fore</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">BRIGHT</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">paramReturnList</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
                    <span class="n">paramPrintList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Back</span><span class="o">.</span><span class="n">RED</span> <span class="o">+</span> <span class="n">Fore</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">BRIGHT</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">paramReturnList</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">)</span>

                    <span class="c1"># Increment Error Counter</span>
                    <span class="n">errorCounter</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="n">errorList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">paramToSend</span><span class="p">)</span>

                <span class="c1"># Add the print row to the dataframe</span>
                <span class="n">printDataFrame</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">printDataFrame</span><span class="p">)]</span> <span class="o">=</span> <span class="n">paramPrintList</span>

            <span class="k">if</span> <span class="n">doPrint</span><span class="p">:</span>
                <span class="c1"># Print the print data frame</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">tabulate</span><span class="p">(</span><span class="n">printDataFrame</span><span class="p">,</span> <span class="n">showindex</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">printDataFrame</span><span class="o">.</span><span class="n">columns</span><span class="p">))</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">)</span>

            <span class="c1"># Return the return data frame</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">sdoDataFrame</span><span class="p">,</span> <span class="n">errorCounter</span><span class="p">,</span> <span class="n">errorList</span><span class="p">]</span>

        <span class="c1"># Catch bus re-initializing</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">CanOperationError</span><span class="p">,</span> <span class="n">PcanCanOperationError</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: The CAN Channel is Currently Down!&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: This error got thrown on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>



    <span class="c1">#############################</span>
    <span class="c1"># SDO AUTOMATIC LIST READER #</span>
    <span class="c1">#############################</span>
    <span class="k">def</span> <span class="nf">readSdoList</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sdoList</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span> <span class="n">timeDelay</span><span class="p">:</span><span class="nb">float</span><span class="o">=</span><span class="mf">0.03</span><span class="p">,</span> <span class="n">doPrint</span><span class="p">:</span><span class="nb">bool</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span><span class="nb">int</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; This method is designed to read a given list of SDO parameters.</span>

<span class="sd">        Args:</span>
<span class="sd">            sdoList (dict): List of paramameters to read.</span>
<span class="sd">            doPrint (bool, optional): Whether to print results or not. Defaults to True.</span>
<span class="sd">            timeout (int): The timeout length (in seconds) for each read and write command.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception: Raises an Exception if the sdoList is empty.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dataframe: Pandas Dataframe containing parameters read and values read.</span>
<span class="sd">        &#39;&#39;&#39;</span>        

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># If the dictionary is empty, raise an exception to alert and stop execution</span>
            <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sdoList</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">Back</span><span class="o">.</span><span class="n">MAGENTA</span> <span class="o">+</span> <span class="n">Fore</span><span class="o">.</span><span class="n">CYAN</span> <span class="o">+</span> <span class="s2">&quot;CC Anti-Canape Automator: You must provide a list of parameters to read!&quot;</span><span class="p">)</span>

            <span class="c1"># Create the return data frame</span>
            <span class="n">sdoDataFrame</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Parameter Name&#39;</span><span class="p">,</span> <span class="s1">&#39;Read Value&#39;</span><span class="p">])</span>

            <span class="c1"># Create the printing data frame</span>
            <span class="n">printDataFrame</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="n">Fore</span><span class="o">.</span><span class="n">WHITE</span> <span class="o">+</span> <span class="n">Back</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">DIM</span> <span class="o">+</span> <span class="s1">&#39; Parameter Name &#39;</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">,</span> <span class="n">Fore</span><span class="o">.</span><span class="n">WHITE</span> <span class="o">+</span> <span class="n">Back</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">DIM</span> <span class="o">+</span> <span class="s1">&#39; Read Value &#39;</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">])</span>

            <span class="c1"># For each parameter to read</span>
            <span class="k">for</span> <span class="n">paramToRead</span> <span class="ow">in</span> <span class="n">sdoList</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="c1"># Check if the bus is overloaded</span>
                    <span class="c1"># [https://python-can.readthedocs.io/en/stable/bus.html#can.BusABC.state]</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">writer</span><span class="o">.</span><span class="n">bus</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="n">BusOverloadError</span>

                    <span class="c1"># Create the initial parameter list, starting with the parameter name</span>
                    <span class="n">paramReturnList</span> <span class="o">=</span> <span class="p">[</span><span class="n">paramToRead</span><span class="p">]</span>
                    <span class="n">paramPrintList</span> <span class="o">=</span> <span class="p">[</span><span class="n">paramToRead</span><span class="p">]</span>

                    <span class="n">sleep</span><span class="p">(</span><span class="n">timeDelay</span><span class="p">)</span>

                    <span class="c1"># Request a read of the SDO message</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">reader</span><span class="o">.</span><span class="n">singleSdoRead</span><span class="p">(</span><span class="n">mainId</span><span class="o">=</span><span class="n">paramToRead</span><span class="p">,</span> <span class="n">writer</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">writer</span><span class="p">,</span> <span class="n">timeoutIn</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>

                    <span class="n">sleep</span><span class="p">(</span><span class="n">timeDelay</span><span class="p">)</span>

                    <span class="c1"># Grab the VCM Response</span>
                    <span class="n">sdoResponse</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reader</span><span class="o">.</span><span class="n">getSdoResponse</span><span class="p">(</span><span class="n">doPrint</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">timeoutIn</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
                    <span class="n">paramReturnList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sdoResponse</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
                    <span class="n">paramPrintList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sdoResponse</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

                    <span class="c1"># Add the return row to the dataframe</span>
                    <span class="n">sdoDataFrame</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">sdoDataFrame</span><span class="o">.</span><span class="n">index</span><span class="p">)]</span> <span class="o">=</span> <span class="n">paramReturnList</span>

                    <span class="c1"># Add the print row to the dataframe</span>
                    <span class="n">printDataFrame</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">printDataFrame</span><span class="p">)]</span> <span class="o">=</span> <span class="n">paramPrintList</span>
                <span class="k">except</span> <span class="n">BusOverloadError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
                        <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: A heavy/overloaded bus was detected! Restarting script...&quot;</span><span class="p">)</span>
                        <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                        <span class="k">raise</span>
                <span class="k">except</span> <span class="p">(</span><span class="n">PcanError</span><span class="p">,</span> <span class="n">PcanCanOperationError</span><span class="p">,</span> <span class="n">PcanCanInitializationError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
                        <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: A PCAN Error was detected!&quot;</span><span class="p">)</span>
                        <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                        <span class="k">raise</span>
                <span class="k">except</span> <span class="p">(</span><span class="n">CanError</span><span class="p">,</span> <span class="n">CanInitializationError</span><span class="p">,</span> <span class="n">CanInterfaceNotImplementedError</span><span class="p">,</span> <span class="n">CanOperationError</span><span class="p">,</span> <span class="n">CanTimeoutError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
                        <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: A CAN Error was detected!&quot;</span><span class="p">)</span>
                        <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                        <span class="k">raise</span>

            <span class="k">if</span> <span class="n">doPrint</span><span class="p">:</span>
                <span class="c1"># Print the print data frame</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">tabulate</span><span class="p">(</span><span class="n">printDataFrame</span><span class="p">,</span> <span class="n">showindex</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">printDataFrame</span><span class="o">.</span><span class="n">columns</span><span class="p">))</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">)</span>

            <span class="c1"># Return the return data frame</span>
            <span class="k">return</span> <span class="n">sdoDataFrame</span>

        <span class="c1"># Catch bus re-initializing</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">CanOperationError</span><span class="p">,</span> <span class="n">PcanCanOperationError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: The CAN Channel is Currently Down!&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC ANti-Canape: This error got thrown on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
            <span class="k">raise</span>

        <span class="k">except</span> <span class="n">BusOverloadError</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: A heavy/overloaded bus was detected! Restarting script...&quot;</span><span class="p">)</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                <span class="k">raise</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h3 id="drivers.automator.sdoAutomator.__init__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">readerIn</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">writerIn</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dbcParseIn</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dotParseIn</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>This method will initialize an sdoAutomator object to provide an instance for automation. It will set the needed threads for the instance reader, writer, dbcParse, and dotParse.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>readerIn</code></td>
          <td>
                <code><span title="readers.ACReader">ACReader</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An ACReader object to use for reading to the CAN bus. Defaults to None.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>writerIn</code></td>
          <td>
                <code><span title="writers.ACWriter">ACWriter</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An ACWriter object to use for writing to the CAN bus. Defaults to None.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>dbcParseIn</code></td>
          <td>
                <code><span title="drivers.automator.sdoAutomator.dbcParse">dbcParse</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A dbcAutoParse object to use for looking up dbc information (CAN messages, signals, and attributes). Defaults to None.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>dotParseIn</code></td>
          <td>
                <code><span title="drivers.automator.sdoAutomator.dotParse">dotParse</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A dotAutoParse object to use for looking up dot information (SDO ID's, payloads, and attributes). Defaults to None.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>drivers\automator.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">readerIn</span><span class="p">:</span><span class="n">ACReader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">writerIn</span><span class="p">:</span><span class="n">ACWriter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dbcParseIn</span><span class="p">:</span><span class="n">dbcParse</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dotParseIn</span><span class="p">:</span><span class="n">dotParse</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39; This method will initialize an sdoAutomator object to provide an instance for automation. It will set the needed threads for the instance reader, writer, dbcParse, and dotParse.</span>

<span class="sd">    Args:</span>
<span class="sd">        readerIn (ACReader, optional): An ACReader object to use for reading to the CAN bus. Defaults to None.</span>
<span class="sd">        writerIn (ACWriter, optional): An ACWriter object to use for writing to the CAN bus. Defaults to None.</span>
<span class="sd">        dbcParseIn (dbcParse, optional): A dbcAutoParse object to use for looking up dbc information (CAN messages, signals, and attributes). Defaults to None.</span>
<span class="sd">        dotParseIn (dotParse, optional): A dotAutoParse object to use for looking up dot information (SDO ID&#39;s, payloads, and attributes). Defaults to None.</span>
<span class="sd">    &#39;&#39;&#39;</span>        
    <span class="c1"># Set thread objects</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">reader</span> <span class="o">=</span> <span class="n">readerIn</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">writer</span> <span class="o">=</span> <span class="n">writerIn</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dbcParse</span> <span class="o">=</span> <span class="n">dbcParseIn</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dotParse</span> <span class="o">=</span> <span class="n">dotParseIn</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="drivers.automator.sdoAutomator.readSdoList" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">readSdoList</span><span class="p">(</span><span class="n">sdoList</span><span class="p">,</span> <span class="n">timeDelay</span><span class="o">=</span><span class="mf">0.03</span><span class="p">,</span> <span class="n">doPrint</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>This method is designed to read a given list of SDO parameters.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>sdoList</code></td>
          <td>
                <code>dict</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List of paramameters to read.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>doPrint</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether to print results or not. Defaults to True.</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>timeout</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The timeout length (in seconds) for each read and write command.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>Exception</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Raises an Exception if the sdoList is empty.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>Dataframe</code></td>          <td>
                <code><span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Pandas Dataframe containing parameters read and values read.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>drivers\automator.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">readSdoList</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sdoList</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span> <span class="n">timeDelay</span><span class="p">:</span><span class="nb">float</span><span class="o">=</span><span class="mf">0.03</span><span class="p">,</span> <span class="n">doPrint</span><span class="p">:</span><span class="nb">bool</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span><span class="nb">int</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39; This method is designed to read a given list of SDO parameters.</span>

<span class="sd">    Args:</span>
<span class="sd">        sdoList (dict): List of paramameters to read.</span>
<span class="sd">        doPrint (bool, optional): Whether to print results or not. Defaults to True.</span>
<span class="sd">        timeout (int): The timeout length (in seconds) for each read and write command.</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception: Raises an Exception if the sdoList is empty.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dataframe: Pandas Dataframe containing parameters read and values read.</span>
<span class="sd">    &#39;&#39;&#39;</span>        

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># If the dictionary is empty, raise an exception to alert and stop execution</span>
        <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sdoList</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">Back</span><span class="o">.</span><span class="n">MAGENTA</span> <span class="o">+</span> <span class="n">Fore</span><span class="o">.</span><span class="n">CYAN</span> <span class="o">+</span> <span class="s2">&quot;CC Anti-Canape Automator: You must provide a list of parameters to read!&quot;</span><span class="p">)</span>

        <span class="c1"># Create the return data frame</span>
        <span class="n">sdoDataFrame</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Parameter Name&#39;</span><span class="p">,</span> <span class="s1">&#39;Read Value&#39;</span><span class="p">])</span>

        <span class="c1"># Create the printing data frame</span>
        <span class="n">printDataFrame</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="n">Fore</span><span class="o">.</span><span class="n">WHITE</span> <span class="o">+</span> <span class="n">Back</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">DIM</span> <span class="o">+</span> <span class="s1">&#39; Parameter Name &#39;</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">,</span> <span class="n">Fore</span><span class="o">.</span><span class="n">WHITE</span> <span class="o">+</span> <span class="n">Back</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">DIM</span> <span class="o">+</span> <span class="s1">&#39; Read Value &#39;</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">])</span>

        <span class="c1"># For each parameter to read</span>
        <span class="k">for</span> <span class="n">paramToRead</span> <span class="ow">in</span> <span class="n">sdoList</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># Check if the bus is overloaded</span>
                <span class="c1"># [https://python-can.readthedocs.io/en/stable/bus.html#can.BusABC.state]</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">writer</span><span class="o">.</span><span class="n">bus</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">BusOverloadError</span>

                <span class="c1"># Create the initial parameter list, starting with the parameter name</span>
                <span class="n">paramReturnList</span> <span class="o">=</span> <span class="p">[</span><span class="n">paramToRead</span><span class="p">]</span>
                <span class="n">paramPrintList</span> <span class="o">=</span> <span class="p">[</span><span class="n">paramToRead</span><span class="p">]</span>

                <span class="n">sleep</span><span class="p">(</span><span class="n">timeDelay</span><span class="p">)</span>

                <span class="c1"># Request a read of the SDO message</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">reader</span><span class="o">.</span><span class="n">singleSdoRead</span><span class="p">(</span><span class="n">mainId</span><span class="o">=</span><span class="n">paramToRead</span><span class="p">,</span> <span class="n">writer</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">writer</span><span class="p">,</span> <span class="n">timeoutIn</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>

                <span class="n">sleep</span><span class="p">(</span><span class="n">timeDelay</span><span class="p">)</span>

                <span class="c1"># Grab the VCM Response</span>
                <span class="n">sdoResponse</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reader</span><span class="o">.</span><span class="n">getSdoResponse</span><span class="p">(</span><span class="n">doPrint</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">timeoutIn</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
                <span class="n">paramReturnList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sdoResponse</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
                <span class="n">paramPrintList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sdoResponse</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

                <span class="c1"># Add the return row to the dataframe</span>
                <span class="n">sdoDataFrame</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">sdoDataFrame</span><span class="o">.</span><span class="n">index</span><span class="p">)]</span> <span class="o">=</span> <span class="n">paramReturnList</span>

                <span class="c1"># Add the print row to the dataframe</span>
                <span class="n">printDataFrame</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">printDataFrame</span><span class="p">)]</span> <span class="o">=</span> <span class="n">paramPrintList</span>
            <span class="k">except</span> <span class="n">BusOverloadError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
                    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: A heavy/overloaded bus was detected! Restarting script...&quot;</span><span class="p">)</span>
                    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                    <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                    <span class="k">raise</span>
            <span class="k">except</span> <span class="p">(</span><span class="n">PcanError</span><span class="p">,</span> <span class="n">PcanCanOperationError</span><span class="p">,</span> <span class="n">PcanCanInitializationError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
                    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: A PCAN Error was detected!&quot;</span><span class="p">)</span>
                    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                    <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                    <span class="k">raise</span>
            <span class="k">except</span> <span class="p">(</span><span class="n">CanError</span><span class="p">,</span> <span class="n">CanInitializationError</span><span class="p">,</span> <span class="n">CanInterfaceNotImplementedError</span><span class="p">,</span> <span class="n">CanOperationError</span><span class="p">,</span> <span class="n">CanTimeoutError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">DEBUG_MODE</span><span class="p">:</span>
                    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: A CAN Error was detected!&quot;</span><span class="p">)</span>
                    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                    <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                    <span class="k">raise</span>

        <span class="k">if</span> <span class="n">doPrint</span><span class="p">:</span>
            <span class="c1"># Print the print data frame</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">tabulate</span><span class="p">(</span><span class="n">printDataFrame</span><span class="p">,</span> <span class="n">showindex</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">printDataFrame</span><span class="o">.</span><span class="n">columns</span><span class="p">))</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">)</span>

        <span class="c1"># Return the return data frame</span>
        <span class="k">return</span> <span class="n">sdoDataFrame</span>

    <span class="c1"># Catch bus re-initializing</span>
    <span class="k">except</span> <span class="p">(</span><span class="n">CanOperationError</span><span class="p">,</span> <span class="n">PcanCanOperationError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: The CAN Channel is Currently Down!&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC ANti-Canape: This error got thrown on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
        <span class="k">raise</span>

    <span class="k">except</span> <span class="n">BusOverloadError</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: A heavy/overloaded bus was detected! Restarting script...&quot;</span><span class="p">)</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error occured on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
            <span class="k">raise</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="drivers.automator.sdoAutomator.writeSdoDict" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">writeSdoDict</span><span class="p">(</span><span class="n">sdoDictionary</span><span class="p">,</span> <span class="n">timeDelay</span><span class="o">=</span><span class="mf">0.03</span><span class="p">,</span> <span class="n">doPrint</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>This method is designed to  write a given dictionary of SDO parameters in the form of {param:new_value}.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>sdoDictionary</code></td>
          <td>
                <code>dict</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Dictionary of param-value pairs.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>timeDelay</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The delay (in seconds) that the program should wait before sending another SDO message. Defaults to 0.03.</p>
            </div>
          </td>
          <td>
                <code>0.03</code>
          </td>
        </tr>
        <tr>
          <td><code>doPrint</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether to print results or not. Defaults to True.</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>timeout</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The timeout length (in seconds) for each read and write command.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>Exception</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Raises an Exception if the sdoDictionary is empty.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>list</code></td>          <td>
                <code>list</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A list containing [sdoDataFrame, errorCounter, errorList].</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>drivers\automator.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">writeSdoDict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sdoDictionary</span><span class="p">:</span><span class="nb">dict</span><span class="p">,</span> <span class="n">timeDelay</span><span class="p">:</span><span class="nb">float</span><span class="o">=</span><span class="mf">0.03</span><span class="p">,</span> <span class="n">doPrint</span><span class="p">:</span><span class="nb">bool</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span><span class="nb">int</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39; This method is designed to  write a given dictionary of SDO parameters in the form of {param:new_value}.</span>

<span class="sd">    Args:</span>
<span class="sd">        sdoDictionary (dict): Dictionary of param-value pairs.</span>
<span class="sd">        timeDelay (float, optional): The delay (in seconds) that the program should wait before sending another SDO message. Defaults to 0.03.</span>
<span class="sd">        doPrint (bool, optional): Whether to print results or not. Defaults to True.</span>
<span class="sd">        timeout (int): The timeout length (in seconds) for each read and write command.</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception: Raises an Exception if the sdoDictionary is empty.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: A list containing [sdoDataFrame, errorCounter, errorList].</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># If the dictionary is empty, raise an exception to alert and stop execution</span>
        <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sdoDictionary</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">Back</span><span class="o">.</span><span class="n">MAGENTA</span> <span class="o">+</span> <span class="n">Fore</span><span class="o">.</span><span class="n">CYAN</span> <span class="o">+</span> <span class="s2">&quot;CC Anti-Canape Automator: You must provide a dictionary of param-value pairs to write!&quot;</span><span class="p">)</span>

        <span class="c1"># Create the return data frame</span>
        <span class="n">sdoDataFrame</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Parameter Name&#39;</span><span class="p">,</span> <span class="s1">&#39;Initial Read Value&#39;</span><span class="p">,</span> <span class="s1">&#39;Written Value&#39;</span><span class="p">,</span> <span class="s1">&#39;Final Read Value&#39;</span><span class="p">])</span>

        <span class="c1"># Create the printing data frame</span>
        <span class="n">printDataFrame</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="n">Fore</span><span class="o">.</span><span class="n">WHITE</span> <span class="o">+</span> <span class="n">Back</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">DIM</span> <span class="o">+</span> <span class="s1">&#39; Parameter Name &#39;</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">,</span> <span class="n">Fore</span><span class="o">.</span><span class="n">WHITE</span> <span class="o">+</span> <span class="n">Back</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">DIM</span> <span class="o">+</span> <span class="s1">&#39; Initial Read Value &#39;</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">,</span> <span class="n">Fore</span><span class="o">.</span><span class="n">WHITE</span> <span class="o">+</span> <span class="n">Back</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">DIM</span> <span class="o">+</span> <span class="s1">&#39; Written Value &#39;</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">,</span> <span class="n">Fore</span><span class="o">.</span><span class="n">WHITE</span> <span class="o">+</span> <span class="n">Back</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">DIM</span> <span class="o">+</span> <span class="s1">&#39; Final Read Value &#39;</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">])</span>

        <span class="c1"># Initialize error counter</span>
        <span class="n">errorCounter</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">errorList</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># For each parameter to send</span>
        <span class="k">for</span> <span class="n">paramToSend</span> <span class="ow">in</span> <span class="n">sdoDictionary</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="c1"># Create the initial parameter list, starting with the parameter name</span>
            <span class="n">paramReturnList</span> <span class="o">=</span> <span class="p">[</span><span class="n">paramToSend</span><span class="p">]</span>
            <span class="n">paramPrintList</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># Read the initial value and add it to the list</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">reader</span><span class="o">.</span><span class="n">singleSdoRead</span><span class="p">(</span><span class="n">mainId</span><span class="o">=</span><span class="n">paramToSend</span><span class="p">,</span> <span class="n">writer</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">writer</span><span class="p">,</span> <span class="n">timeoutIn</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
                <span class="n">pol</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reader</span><span class="o">.</span><span class="n">getSdoResponse</span><span class="p">(</span><span class="n">doPrint</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">timeoutIn</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
                <span class="n">paramReturnList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pol</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="k">except</span> <span class="n">CanError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: An Error Has Occured When Communicating with the CAN Bus!&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: This error got thrown on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>

            <span class="n">sleep</span><span class="p">(</span><span class="n">timeDelay</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># Write the new value and add it to the list</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">writer</span><span class="o">.</span><span class="n">singleSdoWrite</span><span class="p">(</span><span class="n">mainId</span><span class="o">=</span><span class="n">paramToSend</span><span class="p">,</span> <span class="n">payloadIn</span><span class="o">=</span><span class="n">sdoDictionary</span><span class="p">[</span><span class="n">paramToSend</span><span class="p">],</span> <span class="n">timeoutIn</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
                <span class="n">paramReturnList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sdoDictionary</span><span class="p">[</span><span class="n">paramToSend</span><span class="p">])</span>
                <span class="n">olp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reader</span><span class="o">.</span><span class="n">getSdoResponse</span><span class="p">(</span><span class="n">doPrint</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">timeoutIn</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">CanError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: An Error Has Occured When Communicating with the CAN Bus!&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: This error got thrown on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>

            <span class="n">sleep</span><span class="p">(</span><span class="n">timeDelay</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># Read the final value and add it to the list</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">reader</span><span class="o">.</span><span class="n">singleSdoRead</span><span class="p">(</span><span class="n">mainId</span><span class="o">=</span><span class="n">paramToSend</span><span class="p">,</span> <span class="n">writer</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">writer</span><span class="p">,</span> <span class="n">timeoutIn</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
                <span class="n">lop</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reader</span><span class="o">.</span><span class="n">getSdoResponse</span><span class="p">(</span><span class="n">doPrint</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">timeoutIn</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
                <span class="n">paramReturnList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lop</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="k">except</span> <span class="n">CanError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: An Error Has Occured When Communicating with the CAN Bus!&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: This error got thrown on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>

            <span class="n">sleep</span><span class="p">(</span><span class="n">timeDelay</span><span class="p">)</span>

            <span class="c1"># Add the return row to the dataframe</span>
            <span class="n">sdoDataFrame</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">sdoDataFrame</span><span class="o">.</span><span class="n">index</span><span class="p">)]</span> <span class="o">=</span> <span class="n">paramReturnList</span>

            <span class="c1"># Check if the written value matched the final read value</span>
            <span class="k">if</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">paramReturnList</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(</span><span class="n">paramReturnList</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">])):</span>
                <span class="c1"># If True, then the write was successful, so we color the param name green</span>
                <span class="n">paramPrintList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Back</span><span class="o">.</span><span class="n">GREEN</span> <span class="o">+</span> <span class="n">Fore</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">BRIGHT</span> <span class="o">+</span> <span class="n">paramToSend</span><span class="p">)</span>

                <span class="c1"># Add the rest of the values in colored text aswell</span>
                <span class="n">paramPrintList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Back</span><span class="o">.</span><span class="n">GREEN</span> <span class="o">+</span> <span class="n">Fore</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">BRIGHT</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">paramReturnList</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
                <span class="n">paramPrintList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Back</span><span class="o">.</span><span class="n">GREEN</span> <span class="o">+</span> <span class="n">Fore</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">BRIGHT</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">paramReturnList</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
                <span class="n">paramPrintList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Back</span><span class="o">.</span><span class="n">GREEN</span> <span class="o">+</span> <span class="n">Fore</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">BRIGHT</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">paramReturnList</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># If False, then the write was not successful, so we color the param name red</span>
                <span class="n">paramPrintList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Back</span><span class="o">.</span><span class="n">RED</span> <span class="o">+</span> <span class="n">Fore</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">BRIGHT</span> <span class="o">+</span> <span class="n">paramToSend</span><span class="p">)</span>

                <span class="c1"># Add the rest of the values in colored text aswell</span>
                <span class="n">paramPrintList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Back</span><span class="o">.</span><span class="n">RED</span> <span class="o">+</span> <span class="n">Fore</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">BRIGHT</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">paramReturnList</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
                <span class="n">paramPrintList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Back</span><span class="o">.</span><span class="n">RED</span> <span class="o">+</span> <span class="n">Fore</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">BRIGHT</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">paramReturnList</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
                <span class="n">paramPrintList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Back</span><span class="o">.</span><span class="n">RED</span> <span class="o">+</span> <span class="n">Fore</span><span class="o">.</span><span class="n">BLUE</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">BRIGHT</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">paramReturnList</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span> <span class="o">+</span> <span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">)</span>

                <span class="c1"># Increment Error Counter</span>
                <span class="n">errorCounter</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">errorList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">paramToSend</span><span class="p">)</span>

            <span class="c1"># Add the print row to the dataframe</span>
            <span class="n">printDataFrame</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">printDataFrame</span><span class="p">)]</span> <span class="o">=</span> <span class="n">paramPrintList</span>

        <span class="k">if</span> <span class="n">doPrint</span><span class="p">:</span>
            <span class="c1"># Print the print data frame</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">tabulate</span><span class="p">(</span><span class="n">printDataFrame</span><span class="p">,</span> <span class="n">showindex</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">printDataFrame</span><span class="o">.</span><span class="n">columns</span><span class="p">))</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">Style</span><span class="o">.</span><span class="n">RESET_ALL</span><span class="p">)</span>

        <span class="c1"># Return the return data frame</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">sdoDataFrame</span><span class="p">,</span> <span class="n">errorCounter</span><span class="p">,</span> <span class="n">errorList</span><span class="p">]</span>

    <span class="c1"># Catch bus re-initializing</span>
    <span class="k">except</span> <span class="p">(</span><span class="n">CanOperationError</span><span class="p">,</span> <span class="n">PcanCanOperationError</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: The CAN Channel is Currently Down!&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: This error got thrown on line&quot;</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">f_lineno</span><span class="p">,</span> <span class="s2">&quot;of file&quot;</span><span class="p">,</span> <span class="n">pythonfilename</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.81fa17fe.min.js"></script>
      
    
  </body>
</html>