
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../automator/">
      
      
        <link rel="next" href="../writers/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.8">
    
    
      
        <title>Reader - Anti-Canape Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4b4a2bd9.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#drivers.readers" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Anti-Canape Docs" class="md-header__button md-logo" aria-label="Anti-Canape Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Anti-Canape Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Reader
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Anti-Canape Docs" class="md-nav__button md-logo" aria-label="Anti-Canape Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Anti-Canape Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tutorials
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    How-To Guides
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            How-To Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CAN Messages
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            CAN Messages
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/writingCanMsg/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Writing CAN Messages
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/readingCanMsg/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reading CAN Messages
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SDO Messages
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            SDO Messages
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/writingSdoParam/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Writing SDO Messages
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/readingSdoParam/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reading SDO Messages
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/gettingSdoResponse/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Get SDO Response Message
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Script Manager
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Script Manager
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/automatorGetABus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting a CAN Bus
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/writingSdoDict/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Writing a SDO Dictionary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/readingSdoList/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reading a SDO List
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/addAScript/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Adding to the Script Manager
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/runAScript/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running a Script
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DBC and DOT
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            DBC and DOT
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/loadDbc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Load a new DBC file
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/loadDot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Load a new DOT file
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/loadSavedDbcDictionaries/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Load saved DBC dictionaries
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/loadSavedDotDictionaries/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Load saved DOT dictionaries
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/getSignalDictionary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Get CAN Message
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/getSdoIndex/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Get SDO Index
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Library API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Library API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../automator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Automator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Reader
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Reader
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#drivers.readers" class="md-nav__link">
    readers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drivers.readers.ACReader" class="md-nav__link">
    ACReader
  </a>
  
    <nav class="md-nav" aria-label="ACReader">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#drivers.readers.ACReader.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.readers.ACReader.continualCanScanOnBus" class="md-nav__link">
    continualCanScanOnBus()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.readers.ACReader.continualCanScanOnID" class="md-nav__link">
    continualCanScanOnID()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.readers.ACReader.continualCanScanOnIDSet" class="md-nav__link">
    continualCanScanOnIDSet()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.readers.ACReader.encodeitlol" class="md-nav__link">
    encodeitlol()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.readers.ACReader.getSdoResponse" class="md-nav__link">
    getSdoResponse()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.readers.ACReader.loadDotParser" class="md-nav__link">
    loadDotParser()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.readers.ACReader.singleCanScanOnBus" class="md-nav__link">
    singleCanScanOnBus()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.readers.ACReader.singleCanScanOnID" class="md-nav__link">
    singleCanScanOnID()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.readers.ACReader.singleCanScanOnIDSet" class="md-nav__link">
    singleCanScanOnIDSet()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.readers.ACReader.singleSdoRead" class="md-nav__link">
    singleSdoRead()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../writers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Writer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../dbcAutoParse/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DBC Parse
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../dotAutoParse/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DOT Parse
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../explanation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Project Background
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#drivers.readers" class="md-nav__link">
    readers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drivers.readers.ACReader" class="md-nav__link">
    ACReader
  </a>
  
    <nav class="md-nav" aria-label="ACReader">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#drivers.readers.ACReader.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.readers.ACReader.continualCanScanOnBus" class="md-nav__link">
    continualCanScanOnBus()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.readers.ACReader.continualCanScanOnID" class="md-nav__link">
    continualCanScanOnID()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.readers.ACReader.continualCanScanOnIDSet" class="md-nav__link">
    continualCanScanOnIDSet()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.readers.ACReader.encodeitlol" class="md-nav__link">
    encodeitlol()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.readers.ACReader.getSdoResponse" class="md-nav__link">
    getSdoResponse()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.readers.ACReader.loadDotParser" class="md-nav__link">
    loadDotParser()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.readers.ACReader.singleCanScanOnBus" class="md-nav__link">
    singleCanScanOnBus()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.readers.ACReader.singleCanScanOnID" class="md-nav__link">
    singleCanScanOnID()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.readers.ACReader.singleCanScanOnIDSet" class="md-nav__link">
    singleCanScanOnIDSet()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers.readers.ACReader.singleSdoRead" class="md-nav__link">
    singleSdoRead()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Reader</h1>

<p><strong>CC Anti-Canape: Python-CAN Reading Interface Application</strong></p>
<p>Author: Chris Hinkson<br />
   Email: Christopher.Hinkson@clubcar.com  </p>
<p>Desc: This application is designed to provide reading access to CAN communication from within python as a standalone application.  </p>
<p>Github: https://github.com/chrisInTheCode/CC-Anti-Canape<br />
   --&gt; To get access to the github repository, please send me an email at the above address  </p>
<p>References:<br />
   --&gt; https://python-can.readthedocs.io/en/stable/<br />
   --&gt; https://cantools.readthedocs.io/en/latest/  </p>


<div class="doc doc-object doc-module">



<a id="drivers.readers"></a>
  <div class="doc doc-contents first">

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h2 id="drivers.readers.ACReader" class="doc doc-heading">
          <code>ACReader</code>


</h2>


  <div class="doc doc-contents ">

  
      <p>Provides a thread-based approach for high-level CAN reading.</p>
<p>This class provides total reading functionality for CAN communication, and by extension, SDO protocol. It provides a variety of methods to complete various reading tasks and offers extensive capability in terms of data acquisition and handling. It provides a reading object for CAN messages, implements the python-can module as the backend API for CAN communication, uses can-tools for message decoding, CC DBC-Auto-Parse for custom dbc parsing, CC DOT-Auto-Parse for custom dot parsing, and ACWriter for SDO writing (when getting SDO responses). See each individual method for further documentation on method functionality.</p>



<p><strong>Examples:</strong></p>
    <p>myNewWriter = ACWriter(myBusInstance)</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>bus</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The instance's can.Bus object to read CAN messages on.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>drivers\readers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ACReader</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39; Provides a thread-based approach for high-level CAN reading.</span>

<span class="sd">    This class provides total reading functionality for CAN communication, and by extension, SDO protocol. It provides a variety of methods to complete various reading tasks and offers extensive capability in terms of data acquisition and handling. It provides a reading object for CAN messages, implements the python-can module as the backend API for CAN communication, uses can-tools for message decoding, CC DBC-Auto-Parse for custom dbc parsing, CC DOT-Auto-Parse for custom dot parsing, and ACWriter for SDO writing (when getting SDO responses). See each individual method for further documentation on method functionality.</span>

<span class="sd">    Examples:</span>
<span class="sd">        myNewWriter = ACWriter(myBusInstance)</span>

<span class="sd">    Attributes:</span>
<span class="sd">        bus: The instance&#39;s can.Bus object to read CAN messages on.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="c1">#########################</span>
    <span class="c1"># OBJECT INITIALIZATION #</span>
    <span class="c1">#########################</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">busIn</span><span class="p">:</span><span class="n">Bus</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Initializes the reader class.</span>

<span class="sd">        Args:</span>
<span class="sd">            busIn (Bus): The bus object to read CAN messages on.</span>
<span class="sd">        &#39;&#39;&#39;</span>        
        <span class="c1"># Set the bus</span>
        <span class="c1"># NOTE: The bus can be closed at the end of main program execution. If the bus is closed, the same bus object will need to be opened or this class will need</span>
        <span class="c1">#       to be reinitialized.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bus</span> <span class="o">=</span> <span class="n">busIn</span>

        <span class="c1"># Configure the DBC</span>
        <span class="c1"># [https://cantools.readthedocs.io/en/latest/]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dbc</span> <span class="o">=</span> <span class="n">cantools</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">load_file</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s1">&#39;ccPythonDBC.dbc&#39;</span><span class="p">,</span> <span class="n">cache_dir</span><span class="o">=</span><span class="s1">&#39;./CANcache&#39;</span><span class="p">)</span> <span class="c1">#DBC Database</span>

        <span class="c1"># Creates a Buffered Reader - All messages go into a queue</span>
        <span class="c1"># [https://python-can.readthedocs.io/en/stable/listeners.html#bufferedreader]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bufferReader</span> <span class="o">=</span> <span class="n">BufferedReader</span><span class="p">()</span>

        <span class="c1"># Creates a Notifier - Enables the listener to hear the configured Bus</span>
        <span class="c1"># [https://python-can.readthedocs.io/en/stable/listeners.html#notifier]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bufferNotifier</span> <span class="o">=</span> <span class="n">Notifier</span><span class="p">(</span><span class="n">bus</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bus</span><span class="p">,</span> <span class="n">listeners</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">bufferReader</span><span class="p">],</span> <span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">loop</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

        <span class="c1"># In case SDO support enabled, load the DOT parser here</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dotParser</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># Terminal Message</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Reader Object Has Been Initialized!&quot;</span><span class="p">)</span>


    <span class="c1">##################</span>
    <span class="c1"># QUICK ENCODING #</span>
    <span class="c1">##################</span>
    <span class="k">def</span> <span class="nf">encodeitlol</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">IDIn</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span> <span class="n">signalDictIn</span><span class="p">:</span><span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Message</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; A quick support method for encoding an arbitration ID and signal dictionary into a CAN message.</span>

<span class="sd">        Args:</span>
<span class="sd">            IDIn (int): The CAN Arbitration ID.</span>
<span class="sd">            signalDictIn (dict): A dictionary of signal-value pairs.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Message: Encoded CAN Message including the arbitration ID and signal dictionary.</span>
<span class="sd">        &#39;&#39;&#39;</span>            
        <span class="c1"># Encode data into byte array for CAN communication using the DBC file</span>
        <span class="c1"># [https://cantools.readthedocs.io/en/latest/#cantools.database.can.Database.encode_message]</span>
        <span class="n">encodedData</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbc</span><span class="o">.</span><span class="n">encode_message</span><span class="p">(</span><span class="n">IDIn</span><span class="p">,</span> <span class="n">signalDictIn</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">encodedData</span>


    <span class="c1">##############################</span>
    <span class="c1"># SINGLE READING FROM CANBUS #</span>
    <span class="c1">##############################</span>
    <span class="k">def</span> <span class="nf">singleCanScanOnBus</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Gets the next available message in the CAN message buffer.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: Messsage Information Array [ID, Data, Timestamp]</span>
<span class="sd">        &#39;&#39;&#39;</span>        
        <span class="c1"># Get the next available message and decode it</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Grab the message from the buffer that has been there the longest (FIFO)</span>
            <span class="c1"># [https://python-can.readthedocs.io/en/stable/listeners.html#can.BufferedReader.get_message]</span>
            <span class="n">currentMessage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bufferReader</span><span class="o">.</span><span class="n">get_message</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
            <span class="c1"># Decode the message into usable information</span>
            <span class="c1"># [https://cantools.readthedocs.io/en/latest/#cantools.database.can.Database.decode_message]</span>
            <span class="n">decodedData</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbc</span><span class="o">.</span><span class="n">decode_message</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">,</span> <span class="n">currentMessage</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="c1">#Decodes using .dbc</span>

        <span class="c1"># If there is an error reading a message, this Exception is thrown</span>
        <span class="c1"># [https://python-can.readthedocs.io/en/stable/errors.html#can.exceptions.CanOperationError]</span>
        <span class="k">except</span> <span class="n">CanOperationError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: THERE WAS AN ERROR READING FROM THE BUS.&quot;</span><span class="p">)</span>

        <span class="c1"># Return decoded data</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">,</span> <span class="n">decodedData</span><span class="p">,</span> <span class="n">currentMessage</span><span class="o">.</span><span class="n">timestamp</span><span class="p">]</span>


    <span class="c1">###################################</span>
    <span class="c1"># FIND NEXT MESSAGE WITH GIVEN ID #</span>
    <span class="c1">###################################</span>
    <span class="k">def</span> <span class="nf">singleCanScanOnID</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">IDIn</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Will get the next available message in the CAN message buffer for the given ID. This method is preferred when searching for an ID because it will keep the BUS, channel, reader, and notifier open UNTIL the message is found, versus opening and closing it for every message. </span>

<span class="sd">        NOTE: At this time, this will continue going until a message with the specified ID is found. It has no built-in timeout. If you need to stop, use Keyboard Interrupt (CTRL+C).</span>

<span class="sd">        Args:</span>
<span class="sd">            IDIn (int): The ID to scan for on the CAN Bus Buffer.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: Messsage Information Array [ID, Data, Timestamp]</span>
<span class="sd">        &#39;&#39;&#39;</span>        
        <span class="c1"># Get the next message and decode it</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Grab the message from the buffer that has been there the longest (FIFO)</span>
            <span class="c1"># [https://python-can.readthedocs.io/en/stable/listeners.html#can.BufferedReader.get_message]</span>
            <span class="n">currentMessage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bufferReader</span><span class="o">.</span><span class="n">get_message</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

            <span class="c1"># Set a flag to use</span>
            <span class="n">messageFoundFlag</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="c1"># While the correct message has not been found</span>
            <span class="k">while</span> <span class="n">messageFoundFlag</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
                <span class="c1"># Check if the message ID matches the wanted ID</span>
                <span class="k">if</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">)</span> <span class="o">==</span> <span class="nb">int</span><span class="p">(</span><span class="n">IDIn</span><span class="p">)):</span>
                    <span class="c1">#Set the message found flag to true so it stops iterating</span>
                    <span class="n">messageFoundFlag</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="c1"># If the ID does not match, then get next message and iterate again</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">currentMessage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bufferReader</span><span class="o">.</span><span class="n">get_message</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

            <span class="c1"># Decode the message into usable information</span>
            <span class="c1"># [https://cantools.readthedocs.io/en/latest/#cantools.database.can.Database.decode_message]</span>
            <span class="n">decodedData</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbc</span><span class="o">.</span><span class="n">decode_message</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">,</span> <span class="n">currentMessage</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="c1">#Decodes using .dbc</span>

        <span class="c1"># If there is an error reading a message, this Exception is thrown</span>
        <span class="c1"># [https://python-can.readthedocs.io/en/stable/errors.html#can.exceptions.CanOperationError]</span>
        <span class="k">except</span> <span class="n">CanOperationError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: THERE WAS AN ERROR READING FROM THE BUS.&quot;</span><span class="p">)</span>

        <span class="c1"># Return decoded data</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">,</span> <span class="n">decodedData</span><span class="p">,</span> <span class="n">currentMessage</span><span class="o">.</span><span class="n">timestamp</span><span class="p">]</span>


    <span class="c1">#######################################</span>
    <span class="c1"># FIND NEXT MESSAGE FROM GIVEN ID SET #</span>
    <span class="c1">#######################################</span>
    <span class="k">def</span> <span class="nf">singleCanScanOnIDSet</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">IDArrayIn</span><span class="p">:</span> <span class="nb">list</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Will get the next available message in the CAN message buffer for any of the given ID&#39;s. This method is preferred when searching for a message from a set of ID&#39;s because it will keep the BUS, channel, reader, and notifier open UNTIL the message is found, versus opening and closing it for every message. </span>

<span class="sd">        NOTE: At this time, this will continue going until a message with the specified ID is found. It has no built-in timeout. If you need to stop, use Keyboard Interrupt (CTRL+C).</span>

<span class="sd">        Args:</span>
<span class="sd">            IDArrayIn (list[int]): List of ID&#39;s to scan for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: Messsage Information Array [ID, Data, Timestamp].</span>
<span class="sd">        &#39;&#39;&#39;</span>        
        <span class="c1"># Get the next message and decode it</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Grab the message from the buffer that has been there the longest (FIFO)</span>
            <span class="c1"># [https://python-can.readthedocs.io/en/stable/listeners.html#can.BufferedReader.get_message]</span>
            <span class="n">currentMessage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bufferReader</span><span class="o">.</span><span class="n">get_message</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

            <span class="c1"># Set a flag to use</span>
            <span class="n">messageFoundFlag</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="c1"># While the correct message has not been found</span>
            <span class="k">while</span> <span class="n">messageFoundFlag</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
                <span class="c1"># Check if the message ID is in the wanted ID array</span>
                <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">)</span> <span class="ow">in</span> <span class="n">IDArrayIn</span><span class="p">:</span>
                    <span class="c1">#Set the message found flag to true so it stops iterating</span>
                    <span class="n">messageFoundFlag</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="c1"># If the ID does not match, then get next message and iterate again</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">currentMessage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bufferReader</span><span class="o">.</span><span class="n">get_message</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

            <span class="c1"># Decode the message into usable information</span>
            <span class="c1"># [https://cantools.readthedocs.io/en/latest/#cantools.database.can.Database.decode_message]</span>
            <span class="n">decodedData</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbc</span><span class="o">.</span><span class="n">decode_message</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">,</span> <span class="n">currentMessage</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="c1">#Decodes using .dbc</span>

        <span class="c1"># If there is an error reading a message, this Exception is thrown</span>
        <span class="c1"># [https://python-can.readthedocs.io/en/stable/errors.html#can.exceptions.CanOperationError]</span>
        <span class="k">except</span> <span class="n">CanOperationError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: THERE WAS AN ERROR READING FROM THE BUS.&quot;</span><span class="p">)</span>

        <span class="c1"># Return decoded data</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">,</span> <span class="n">decodedData</span><span class="p">,</span> <span class="n">currentMessage</span><span class="o">.</span><span class="n">timestamp</span><span class="p">]</span>


    <span class="c1">#################################</span>
    <span class="c1"># CONTINUAL READING FROM CANBUS #</span>
    <span class="c1">#################################</span>
    <span class="k">def</span> <span class="nf">continualCanScanOnBus</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Continues to get the next message from the CAN message buffer. This method is preferred when continously scanning for messages because it will keep the BUS, channel, reader, and notifier while iterating, instead of opening and closing them each for each message.</span>

<span class="sd">        NOTE: At this time, this will continue going until a message with the specified ID is found. It has no built-in timeout. If you need to stop, use Keyboard Interrupt (CTRL+C).</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: Array of Messsage Information Arrays [ [ID, Data, Timestamp], [ID, Data, Timestamp] ... ].</span>
<span class="sd">        &#39;&#39;&#39;</span>    
        <span class="c1"># Get the next message and decode it</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1">#Create an array for storage of data arrays</span>
            <span class="n">outputCanArray</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="c1">#Continue to iterate until keyboard interrupt is received</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                    <span class="c1"># Grab the message from the buffer that has been there the longest (FIFO)</span>
                    <span class="c1"># [https://python-can.readthedocs.io/en/stable/listeners.html#can.BufferedReader.get_message]</span>
                    <span class="n">currentMessage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bufferReader</span><span class="o">.</span><span class="n">get_message</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

                    <span class="c1"># Decode the message into usable information</span>
                    <span class="c1"># [https://cantools.readthedocs.io/en/latest/#cantools.database.can.Database.decode_message]</span>
                    <span class="n">decodedData</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbc</span><span class="o">.</span><span class="n">decode_message</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">,</span> <span class="n">currentMessage</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="c1">#Decodes using .dbc</span>

                    <span class="c1"># Add the decoded data and message information to a message-specific array, and store it inside output array</span>
                    <span class="n">outputCanArray</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">,</span> <span class="n">decodedData</span><span class="p">,</span> <span class="n">currentMessage</span><span class="o">.</span><span class="n">timestamp</span><span class="p">])</span>
                    <span class="c1"># Print the decoded data and message information to the terminal</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;---------- ID: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; ----------&quot;</span><span class="p">)</span>

                    <span class="k">for</span> <span class="n">signalName</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">decodedData</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Signal: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">signalName</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;---------- TIME: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">timestamp</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; ----------&quot;</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">()</span>

            <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: KEYBOARD INTERRUPT DETECTED. HALTING SCAN EXECUTION.&quot;</span><span class="p">)</span>


        <span class="c1"># If there is an error reading a message, this Exception is thrown</span>
        <span class="c1"># [https://python-can.readthedocs.io/en/stable/errors.html#can.exceptions.CanOperationError]</span>
        <span class="k">except</span> <span class="n">CanOperationError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: THERE WAS AN ERROR READING FROM THE BUS.&quot;</span><span class="p">)</span>

        <span class="c1"># Return decoded data</span>
        <span class="k">return</span> <span class="n">outputCanArray</span>


    <span class="c1">##################################</span>
    <span class="c1"># GET ALL MESSAGES WITH GIVEN ID #</span>
    <span class="c1">##################################</span>
    <span class="k">def</span> <span class="nf">continualCanScanOnID</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">IDIn</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Will get the all available messages in the CAN message buffer for the given ID. This method is preferred when continually searching for an ID because it will keep the BUS, channel, reader, and notifier open UNTIL the message is found, versus opening and closing it for every message. </span>

<span class="sd">        NOTE: At this time, this will continue going until a message with the specified ID is found. It has no built-in timeout. If you need to stop, use Keyboard Interrupt (CTRL+C).</span>

<span class="sd">        Args:</span>
<span class="sd">            IDIn (int): The ID to scan for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: Array of Messsage Information Arrays [ [ID, Data, Timestamp] ... ].</span>
<span class="sd">        &#39;&#39;&#39;</span>        
        <span class="c1"># Get the next message and decode it</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1">#Create an array for storage of data arrays</span>
            <span class="n">outputCanArray</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="c1">#Continue to iterate until keyboard interrupt is received</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                    <span class="c1"># Grab the message from the buffer that has been there the longest (FIFO)</span>
                    <span class="c1"># [https://python-can.readthedocs.io/en/stable/listeners.html#can.BufferedReader.get_message]</span>
                    <span class="n">currentMessage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bufferReader</span><span class="o">.</span><span class="n">get_message</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

                    <span class="c1"># Check if the message ID matches the wanted ID</span>
                    <span class="k">if</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">)</span> <span class="o">==</span> <span class="nb">int</span><span class="p">(</span><span class="n">IDIn</span><span class="p">)):</span>
                        <span class="c1"># Decode the message into usable information</span>
                        <span class="c1"># [https://cantools.readthedocs.io/en/latest/#cantools.database.can.Database.decode_message]</span>
                        <span class="n">decodedData</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbc</span><span class="o">.</span><span class="n">decode_message</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">,</span> <span class="n">currentMessage</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="c1">#Decodes using .dbc</span>

                        <span class="c1"># Add the decoded data and message information to a message-specific array, and store it inside output array</span>
                        <span class="n">outputCanArray</span><span class="o">.</span><span class="n">append</span><span class="p">([[</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">,</span> <span class="n">decodedData</span><span class="p">,</span> <span class="n">currentMessage</span><span class="o">.</span><span class="n">timestamp</span><span class="p">]])</span>
                        <span class="c1"># Print the decoded data and message information to the terminal</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;---------- ID: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; ----------&quot;</span><span class="p">)</span>

                        <span class="k">for</span> <span class="n">signalName</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">decodedData</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Signal: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">signalName</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;---------- TIME: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">timestamp</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; ----------&quot;</span><span class="p">)</span>
                        <span class="nb">print</span><span class="p">()</span>

            <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: KEYBOARD INTERRUPT DETECTED. HALTING SCAN EXECUTION.&quot;</span><span class="p">)</span>

        <span class="c1"># If there is an error reading a message, this Exception is thrown</span>
        <span class="c1"># [https://python-can.readthedocs.io/en/stable/errors.html#can.exceptions.CanOperationError]</span>
        <span class="k">except</span> <span class="n">CanOperationError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: THERE WAS AN ERROR READING FROM THE BUS.&quot;</span><span class="p">)</span>

        <span class="c1"># Return decoded data</span>
        <span class="k">return</span> <span class="n">outputCanArray</span>


    <span class="c1">######################################</span>
    <span class="c1"># GET ALL MESSAGES FROM GIVEN ID SET #</span>
    <span class="c1">######################################</span>
    <span class="k">def</span> <span class="nf">continualCanScanOnIDSet</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">IDArrayIn</span><span class="p">:</span> <span class="nb">list</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Will get the all available messages in the CAN message buffer for the given ID set. This method is preferred when continually searching for multiple ID&#39;s because it will keep the BUS, channel, reader, and notifier open UNTIL a message is found, versus opening and closing it for every message. </span>

<span class="sd">        NOTE: At this time, this will continue going until a message with the specified ID is found. It has no built-in timeout. If you need to stop, use Keyboard Interrupt (CTRL+C).</span>

<span class="sd">        Args:</span>
<span class="sd">            IDArrayIn (list): List of ID&#39;s to scan for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: Array of Messsage Information Arrays [ [ID, Data, Timestamp] ... ].</span>
<span class="sd">        &#39;&#39;&#39;</span>        
        <span class="c1"># Get the next message and decode it</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1">#Create an array for storage of data arrays</span>
            <span class="n">outputCanArray</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="c1">#Continue to iterate until keyboard interrupt is received</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                    <span class="c1"># Grab the message from the buffer that has been there the longest (FIFO)</span>
                    <span class="c1"># [https://python-can.readthedocs.io/en/stable/listeners.html#can.BufferedReader.get_message]</span>
                    <span class="n">currentMessage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bufferReader</span><span class="o">.</span><span class="n">get_message</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

                    <span class="c1"># Check if the message ID is in the wanted ID array</span>
                    <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">)</span> <span class="ow">in</span> <span class="n">IDArrayIn</span><span class="p">:</span>
                        <span class="c1"># Decode the message into usable information</span>
                        <span class="c1"># [https://cantools.readthedocs.io/en/latest/#cantools.database.can.Database.decode_message]</span>
                        <span class="n">decodedData</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbc</span><span class="o">.</span><span class="n">decode_message</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">,</span> <span class="n">currentMessage</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="c1">#Decodes using .dbc</span>

                        <span class="c1"># Add the decoded data and message information to a message-specific array, and store it inside output array</span>
                        <span class="n">outputCanArray</span><span class="o">.</span><span class="n">append</span><span class="p">([[</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">,</span> <span class="n">decodedData</span><span class="p">,</span> <span class="n">currentMessage</span><span class="o">.</span><span class="n">timestamp</span><span class="p">]])</span>
                        <span class="c1"># Print the decoded data and message information to the terminal</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;---------- ID: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; ----------&quot;</span><span class="p">)</span>

                        <span class="k">for</span> <span class="n">signalName</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">decodedData</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Signal: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">signalName</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;---------- TIME: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">timestamp</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; ----------&quot;</span><span class="p">)</span>
                        <span class="nb">print</span><span class="p">()</span>

            <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: KEYBOARD INTERRUPT DETECTED. HALTING SCAN EXECUTION.&quot;</span><span class="p">)</span>

        <span class="c1"># If there is an error reading a message, this Exception is thrown</span>
        <span class="c1"># [https://python-can.readthedocs.io/en/stable/errors.html#can.exceptions.CanOperationError]</span>
        <span class="k">except</span> <span class="n">CanOperationError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: THERE WAS AN ERROR READING FROM THE BUS.&quot;</span><span class="p">)</span>

        <span class="c1"># Return decoded data</span>
        <span class="k">return</span> <span class="n">outputCanArray</span>


    <span class="c1">###################################</span>
    <span class="c1"># LOAD A DOT PARSER INTO INSTANCE #</span>
    <span class="c1">###################################</span>
    <span class="k">def</span> <span class="nf">loadDotParser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dotParser</span><span class="p">:</span><span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">True</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;This method is designed to load a DOT parser object into the writer instance for use with SDO messages. Specifically, it is used in singleSdoWrite() to lookup a hex index for a given SDO parameter name.</span>

<span class="sd">        Args:</span>
<span class="sd">            dotParser (dotParse): The dotAutoParse dotParse() object to use as for instance dot parsing.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if method completed without error, False otherwise.</span>
<span class="sd">        &#39;&#39;&#39;</span>        
        <span class="bp">self</span><span class="o">.</span><span class="n">dotParser</span> <span class="o">=</span> <span class="n">dotParser</span>
        <span class="k">return</span> <span class="kc">True</span>


    <span class="c1">####################</span>
    <span class="c1"># GET SDO RESPONSE #</span>
    <span class="c1">####################</span>
    <span class="k">def</span> <span class="nf">getSdoResponse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">doPrint</span><span class="p">:</span><span class="nb">bool</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; Will scan the bus for any message with the SDO response ID, used for all SDO responses to all commands.</span>

<span class="sd">        Args:</span>
<span class="sd">            doPrint (bool, optional): Determines if response output should be printed to the terminal. Defaults to True.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: List containing SDO response information including raw message, type identifier, and payload.</span>
<span class="sd">        &#39;&#39;&#39;</span>        

        <span class="c1"># Response on ID 1461 (response ID: Hex 05b5)</span>
        <span class="n">rawResponse</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">singleCanScanOnID</span><span class="p">(</span><span class="n">IDIn</span><span class="o">=</span><span class="mi">1461</span><span class="p">)</span>
        <span class="n">rawResponseDict</span> <span class="o">=</span> <span class="n">rawResponse</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="c1"># If the value is 96 in decimal, then successful write has been performed</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">rawResponseDict</span><span class="p">[</span><span class="s1">&#39;SDO_VCM_Response_CMD&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">96</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">doPrint</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Write Success Has Been Detected!&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">rawResponse</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">,</span> <span class="s1">&#39;writesuccess&#39;</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">[</span><span class="s2">&quot;SDO_VCM_Response_Payload&quot;</span><span class="p">]]</span>

        <span class="c1"># If the value is 67 in decimal, then successful read has been performed</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">rawResponseDict</span><span class="p">[</span><span class="s1">&#39;SDO_VCM_Response_CMD&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">67</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">doPrint</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Read Success Has Been Detected With 4-Byte Payload!&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The value of&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dotParser</span><span class="o">.</span><span class="n">getParameterNameFromDecId</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">rawResponseDict</span><span class="p">[</span><span class="s2">&quot;SDO_VCM_Response_Index&quot;</span><span class="p">])),</span> <span class="s2">&quot;is currently&quot;</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">[</span><span class="s2">&quot;SDO_VCM_Response_Payload&quot;</span><span class="p">])</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">rawResponse</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">,</span> <span class="s1">&#39;readsuccess&#39;</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">[</span><span class="s2">&quot;SDO_VCM_Response_Payload&quot;</span><span class="p">]]</span>

        <span class="c1"># If the value is 71 in decimal, then successful read has been performed</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">rawResponseDict</span><span class="p">[</span><span class="s1">&#39;SDO_VCM_Response_CMD&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">71</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">doPrint</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Read Success Has Been Detected With 3-Byte Payload!&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The value of&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dotParser</span><span class="o">.</span><span class="n">getParameterNameFromDecId</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">rawResponseDict</span><span class="p">[</span><span class="s2">&quot;SDO_VCM_Response_Index&quot;</span><span class="p">])),</span> <span class="s2">&quot;is currently&quot;</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">[</span><span class="s2">&quot;SDO_VCM_Response_Payload&quot;</span><span class="p">])</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">rawResponse</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">,</span> <span class="s1">&#39;readsuccess&#39;</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">[</span><span class="s2">&quot;SDO_VCM_Response_Payload&quot;</span><span class="p">]]</span>

        <span class="c1"># If the value is 75 in decimal, then successful read has been performed</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">rawResponseDict</span><span class="p">[</span><span class="s1">&#39;SDO_VCM_Response_CMD&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">75</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">doPrint</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Read Success Has Been Detected With 2-Byte Payload!&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The value of&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dotParser</span><span class="o">.</span><span class="n">getParameterNameFromDecId</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">rawResponseDict</span><span class="p">[</span><span class="s2">&quot;SDO_VCM_Response_Index&quot;</span><span class="p">])),</span> <span class="s2">&quot;is currently&quot;</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">[</span><span class="s2">&quot;SDO_VCM_Response_Payload&quot;</span><span class="p">])</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">rawResponse</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">,</span> <span class="s1">&#39;readsuccess&#39;</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">[</span><span class="s2">&quot;SDO_VCM_Response_Payload&quot;</span><span class="p">]]</span>

        <span class="c1"># If the value is 79 in decimal, then successful read has been performed</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">rawResponseDict</span><span class="p">[</span><span class="s1">&#39;SDO_VCM_Response_CMD&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">79</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">doPrint</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Read Success Has Been Detected With 1-Byte Payload!&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The value of&quot;</span><span class="p">,</span>  <span class="bp">self</span><span class="o">.</span><span class="n">dotParser</span><span class="o">.</span><span class="n">getParameterNameFromDecId</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">rawResponseDict</span><span class="p">[</span><span class="s2">&quot;SDO_VCM_Response_Index&quot;</span><span class="p">])),</span> <span class="s2">&quot;is currently&quot;</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">[</span><span class="s2">&quot;SDO_VCM_Response_Payload&quot;</span><span class="p">])</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">rawResponse</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">,</span> <span class="s1">&#39;readsuccess&#39;</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">[</span><span class="s2">&quot;SDO_VCM_Response_Payload&quot;</span><span class="p">]]</span>

        <span class="c1"># If the value is 128 in decimal, then write failed</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">rawResponseDict</span><span class="p">[</span><span class="s1">&#39;SDO_VCM_Response_CMD&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">128</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">doPrint</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Message Failure Has Been Detected!&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">rawResponse</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">,</span> <span class="s1">&#39;failure&#39;</span><span class="p">]</span>


    <span class="c1">###################</span>
    <span class="c1"># SINGLE SDO READ #</span>
    <span class="c1">###################</span>
    <span class="k">def</span> <span class="nf">singleSdoRead</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mainId</span><span class="p">:</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="n">subId</span><span class="p">:</span><span class="nb">str</span><span class="o">=</span><span class="s2">&quot;00&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Will perform a read command to the VCM over the CAN Bus for a given SDO ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            mainId (str or int): The SDO ID to read on the VCM [NOT the CAN Arbitration ID].</span>
<span class="sd">            subId (str, optional): The sub index. Optional. Defaults to &quot;00&quot;.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: Return value of getSdoResponse() == List containing SDO response information including raw message, type identifier, and payload.</span>
<span class="sd">        &quot;&quot;&quot;</span>        
        <span class="c1"># Import writer</span>
        <span class="kn">from</span> <span class="nn">writers</span> <span class="kn">import</span> <span class="n">ACWriter</span>
        <span class="n">localWriter</span> <span class="o">=</span> <span class="n">ACWriter</span><span class="p">(</span><span class="n">busIn</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bus</span><span class="p">)</span>

        <span class="c1"># Redefine the ID to be a string for checking</span>
        <span class="n">strId</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">mainId</span><span class="p">)</span>

        <span class="c1"># Initialize a blank splitHexId for Endian conversion</span>
        <span class="n">hexId</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

        <span class="c1"># Initialize a blank finalId for post-conversion</span>
        <span class="n">finalPayload</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

        <span class="c1"># If the id begins with &#39;0x&#39;, it is hex ID</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">strId</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">strId</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;x&#39;</span><span class="p">):</span>
            <span class="n">hexId</span> <span class="o">=</span> <span class="n">strId</span>

        <span class="c1"># If the id is all numbers, it is decimal</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">strId</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()):</span>
            <span class="c1"># Convert to int and save</span>
            <span class="n">hexId</span> <span class="o">=</span> <span class="nb">hex</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">strId</span><span class="p">))</span>

        <span class="c1"># Else, it is a parameter name, so call for hex ID</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># If the DOT parser has not been loaded, tell user to load it first</span>
            <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dotParser</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Please load DOT parser before writing using parameter names!&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="c1"># If the DOT parser has been loaded, use it to find hex ID</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">hexId</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dotParser</span><span class="o">.</span><span class="n">getHexIdFromParameterName</span><span class="p">(</span><span class="n">strId</span><span class="p">)</span>

        <span class="c1"># Add initial write command identifier to payload</span>
        <span class="n">finalPayload</span> <span class="o">+=</span> <span class="s2">&quot;43&quot;</span>

        <span class="c1"># Convert to Little Endian and add to final payload </span>
        <span class="n">finalPayload</span> <span class="o">+=</span> <span class="n">hexId</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
        <span class="n">finalPayload</span> <span class="o">+=</span> <span class="n">hexId</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
        <span class="n">finalPayload</span> <span class="o">+=</span> <span class="n">hexId</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">finalPayload</span> <span class="o">+=</span> <span class="n">hexId</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>

        <span class="c1"># Add the sub index to the final payload</span>
        <span class="n">finalPayload</span> <span class="o">+=</span> <span class="n">subId</span>

        <span class="c1"># Add empty payload to the final payload</span>
        <span class="n">finalPayload</span> <span class="o">+=</span> <span class="s2">&quot;00000000&quot;</span>

        <span class="c1"># Send the SDO Message</span>
        <span class="n">localWriter</span><span class="o">.</span><span class="n">singleCanWriteRawOnID</span><span class="p">(</span><span class="n">IDIn</span><span class="o">=</span><span class="mi">1589</span><span class="p">,</span> <span class="nb">bytes</span><span class="o">=</span><span class="n">finalPayload</span><span class="p">)</span>

        <span class="c1"># Return True if it has made it this far</span>
        <span class="k">return</span> <span class="kc">True</span>
        <span class="c1"># Import writer</span>
        <span class="kn">from</span> <span class="nn">writers</span> <span class="kn">import</span> <span class="n">ACWriter</span>
        <span class="n">localWriter</span> <span class="o">=</span> <span class="n">ACWriter</span><span class="p">(</span><span class="n">busIn</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bus</span><span class="p">)</span>

        <span class="c1"># Redefine the ID to be a string for checking</span>
        <span class="n">strId</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">mainId</span><span class="p">)</span>

        <span class="c1"># Initialize a blank splitHexId for Endian conversion</span>
        <span class="n">hexId</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

        <span class="c1"># Initialize a blank finalId for post-conversion</span>
        <span class="n">finalPayload</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

        <span class="c1"># If the id begins with &#39;0x&#39;, it is hex ID</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">strId</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">strId</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;x&#39;</span><span class="p">):</span>
            <span class="n">hexId</span> <span class="o">=</span> <span class="n">strId</span>

        <span class="c1"># Else, it must be the decimal version</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Convert to int and save</span>
            <span class="n">hexId</span> <span class="o">=</span> <span class="nb">hex</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">strId</span><span class="p">))</span>

        <span class="c1"># Add initial write command identifier to payload</span>
        <span class="n">finalPayload</span> <span class="o">+=</span> <span class="s2">&quot;43&quot;</span>

        <span class="c1"># Convert to Little Endian and add to final payload </span>
        <span class="n">finalPayload</span> <span class="o">+=</span> <span class="n">hexId</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
        <span class="n">finalPayload</span> <span class="o">+=</span> <span class="n">hexId</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
        <span class="n">finalPayload</span> <span class="o">+=</span> <span class="n">hexId</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">finalPayload</span> <span class="o">+=</span> <span class="n">hexId</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>

        <span class="c1"># Add the sub index to the final payload</span>
        <span class="n">finalPayload</span> <span class="o">+=</span> <span class="n">subId</span>

        <span class="c1"># Add empty payload to the final payload</span>
        <span class="n">finalPayload</span> <span class="o">+=</span> <span class="s2">&quot;00000000&quot;</span>

        <span class="c1"># Return the return value</span>
        <span class="n">localWriter</span><span class="o">.</span><span class="n">constantCanWriteRawOnID</span><span class="p">(</span><span class="n">IDIn</span><span class="o">=</span><span class="mi">1589</span><span class="p">,</span> <span class="nb">bytes</span><span class="o">=</span><span class="n">finalPayload</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="n">period</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="n">duration</span><span class="p">)</span>
        <span class="k">return</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getSdoResponse</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h3 id="drivers.readers.ACReader.__init__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">busIn</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Initializes the reader class.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>busIn</code></td>
          <td>
                <code><span title="can.Bus">Bus</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The bus object to read CAN messages on.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>drivers\readers.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">busIn</span><span class="p">:</span><span class="n">Bus</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39; Initializes the reader class.</span>

<span class="sd">    Args:</span>
<span class="sd">        busIn (Bus): The bus object to read CAN messages on.</span>
<span class="sd">    &#39;&#39;&#39;</span>        
    <span class="c1"># Set the bus</span>
    <span class="c1"># NOTE: The bus can be closed at the end of main program execution. If the bus is closed, the same bus object will need to be opened or this class will need</span>
    <span class="c1">#       to be reinitialized.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">bus</span> <span class="o">=</span> <span class="n">busIn</span>

    <span class="c1"># Configure the DBC</span>
    <span class="c1"># [https://cantools.readthedocs.io/en/latest/]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dbc</span> <span class="o">=</span> <span class="n">cantools</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">load_file</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s1">&#39;ccPythonDBC.dbc&#39;</span><span class="p">,</span> <span class="n">cache_dir</span><span class="o">=</span><span class="s1">&#39;./CANcache&#39;</span><span class="p">)</span> <span class="c1">#DBC Database</span>

    <span class="c1"># Creates a Buffered Reader - All messages go into a queue</span>
    <span class="c1"># [https://python-can.readthedocs.io/en/stable/listeners.html#bufferedreader]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">bufferReader</span> <span class="o">=</span> <span class="n">BufferedReader</span><span class="p">()</span>

    <span class="c1"># Creates a Notifier - Enables the listener to hear the configured Bus</span>
    <span class="c1"># [https://python-can.readthedocs.io/en/stable/listeners.html#notifier]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">bufferNotifier</span> <span class="o">=</span> <span class="n">Notifier</span><span class="p">(</span><span class="n">bus</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bus</span><span class="p">,</span> <span class="n">listeners</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">bufferReader</span><span class="p">],</span> <span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">loop</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="c1"># In case SDO support enabled, load the DOT parser here</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dotParser</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Terminal Message</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Reader Object Has Been Initialized!&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="drivers.readers.ACReader.continualCanScanOnBus" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">continualCanScanOnBus</span><span class="p">()</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Continues to get the next message from the CAN message buffer. This method is preferred when continously scanning for messages because it will keep the BUS, channel, reader, and notifier while iterating, instead of opening and closing them each for each message.</p>
<p>NOTE: At this time, this will continue going until a message with the specified ID is found. It has no built-in timeout. If you need to stop, use Keyboard Interrupt (CTRL+C).</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>list</code></td>          <td>
                <code>list</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Array of Messsage Information Arrays [ [ID, Data, Timestamp], [ID, Data, Timestamp] ... ].</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>drivers\readers.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">continualCanScanOnBus</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39; Continues to get the next message from the CAN message buffer. This method is preferred when continously scanning for messages because it will keep the BUS, channel, reader, and notifier while iterating, instead of opening and closing them each for each message.</span>

<span class="sd">    NOTE: At this time, this will continue going until a message with the specified ID is found. It has no built-in timeout. If you need to stop, use Keyboard Interrupt (CTRL+C).</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: Array of Messsage Information Arrays [ [ID, Data, Timestamp], [ID, Data, Timestamp] ... ].</span>
<span class="sd">    &#39;&#39;&#39;</span>    
    <span class="c1"># Get the next message and decode it</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1">#Create an array for storage of data arrays</span>
        <span class="n">outputCanArray</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1">#Continue to iterate until keyboard interrupt is received</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                <span class="c1"># Grab the message from the buffer that has been there the longest (FIFO)</span>
                <span class="c1"># [https://python-can.readthedocs.io/en/stable/listeners.html#can.BufferedReader.get_message]</span>
                <span class="n">currentMessage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bufferReader</span><span class="o">.</span><span class="n">get_message</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

                <span class="c1"># Decode the message into usable information</span>
                <span class="c1"># [https://cantools.readthedocs.io/en/latest/#cantools.database.can.Database.decode_message]</span>
                <span class="n">decodedData</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbc</span><span class="o">.</span><span class="n">decode_message</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">,</span> <span class="n">currentMessage</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="c1">#Decodes using .dbc</span>

                <span class="c1"># Add the decoded data and message information to a message-specific array, and store it inside output array</span>
                <span class="n">outputCanArray</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">,</span> <span class="n">decodedData</span><span class="p">,</span> <span class="n">currentMessage</span><span class="o">.</span><span class="n">timestamp</span><span class="p">])</span>
                <span class="c1"># Print the decoded data and message information to the terminal</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;---------- ID: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; ----------&quot;</span><span class="p">)</span>

                <span class="k">for</span> <span class="n">signalName</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">decodedData</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Signal: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">signalName</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;---------- TIME: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">timestamp</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; ----------&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">()</span>

        <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: KEYBOARD INTERRUPT DETECTED. HALTING SCAN EXECUTION.&quot;</span><span class="p">)</span>


    <span class="c1"># If there is an error reading a message, this Exception is thrown</span>
    <span class="c1"># [https://python-can.readthedocs.io/en/stable/errors.html#can.exceptions.CanOperationError]</span>
    <span class="k">except</span> <span class="n">CanOperationError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: THERE WAS AN ERROR READING FROM THE BUS.&quot;</span><span class="p">)</span>

    <span class="c1"># Return decoded data</span>
    <span class="k">return</span> <span class="n">outputCanArray</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="drivers.readers.ACReader.continualCanScanOnID" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">continualCanScanOnID</span><span class="p">(</span><span class="n">IDIn</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Will get the all available messages in the CAN message buffer for the given ID. This method is preferred when continually searching for an ID because it will keep the BUS, channel, reader, and notifier open UNTIL the message is found, versus opening and closing it for every message. </p>
<p>NOTE: At this time, this will continue going until a message with the specified ID is found. It has no built-in timeout. If you need to stop, use Keyboard Interrupt (CTRL+C).</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>IDIn</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The ID to scan for.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>list</code></td>          <td>
                <code>list</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Array of Messsage Information Arrays [ [ID, Data, Timestamp] ... ].</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>drivers\readers.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">continualCanScanOnID</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">IDIn</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39; Will get the all available messages in the CAN message buffer for the given ID. This method is preferred when continually searching for an ID because it will keep the BUS, channel, reader, and notifier open UNTIL the message is found, versus opening and closing it for every message. </span>

<span class="sd">    NOTE: At this time, this will continue going until a message with the specified ID is found. It has no built-in timeout. If you need to stop, use Keyboard Interrupt (CTRL+C).</span>

<span class="sd">    Args:</span>
<span class="sd">        IDIn (int): The ID to scan for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: Array of Messsage Information Arrays [ [ID, Data, Timestamp] ... ].</span>
<span class="sd">    &#39;&#39;&#39;</span>        
    <span class="c1"># Get the next message and decode it</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1">#Create an array for storage of data arrays</span>
        <span class="n">outputCanArray</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1">#Continue to iterate until keyboard interrupt is received</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                <span class="c1"># Grab the message from the buffer that has been there the longest (FIFO)</span>
                <span class="c1"># [https://python-can.readthedocs.io/en/stable/listeners.html#can.BufferedReader.get_message]</span>
                <span class="n">currentMessage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bufferReader</span><span class="o">.</span><span class="n">get_message</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

                <span class="c1"># Check if the message ID matches the wanted ID</span>
                <span class="k">if</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">)</span> <span class="o">==</span> <span class="nb">int</span><span class="p">(</span><span class="n">IDIn</span><span class="p">)):</span>
                    <span class="c1"># Decode the message into usable information</span>
                    <span class="c1"># [https://cantools.readthedocs.io/en/latest/#cantools.database.can.Database.decode_message]</span>
                    <span class="n">decodedData</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbc</span><span class="o">.</span><span class="n">decode_message</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">,</span> <span class="n">currentMessage</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="c1">#Decodes using .dbc</span>

                    <span class="c1"># Add the decoded data and message information to a message-specific array, and store it inside output array</span>
                    <span class="n">outputCanArray</span><span class="o">.</span><span class="n">append</span><span class="p">([[</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">,</span> <span class="n">decodedData</span><span class="p">,</span> <span class="n">currentMessage</span><span class="o">.</span><span class="n">timestamp</span><span class="p">]])</span>
                    <span class="c1"># Print the decoded data and message information to the terminal</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;---------- ID: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; ----------&quot;</span><span class="p">)</span>

                    <span class="k">for</span> <span class="n">signalName</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">decodedData</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Signal: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">signalName</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;---------- TIME: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">timestamp</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; ----------&quot;</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">()</span>

        <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: KEYBOARD INTERRUPT DETECTED. HALTING SCAN EXECUTION.&quot;</span><span class="p">)</span>

    <span class="c1"># If there is an error reading a message, this Exception is thrown</span>
    <span class="c1"># [https://python-can.readthedocs.io/en/stable/errors.html#can.exceptions.CanOperationError]</span>
    <span class="k">except</span> <span class="n">CanOperationError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: THERE WAS AN ERROR READING FROM THE BUS.&quot;</span><span class="p">)</span>

    <span class="c1"># Return decoded data</span>
    <span class="k">return</span> <span class="n">outputCanArray</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="drivers.readers.ACReader.continualCanScanOnIDSet" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">continualCanScanOnIDSet</span><span class="p">(</span><span class="n">IDArrayIn</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Will get the all available messages in the CAN message buffer for the given ID set. This method is preferred when continually searching for multiple ID's because it will keep the BUS, channel, reader, and notifier open UNTIL a message is found, versus opening and closing it for every message. </p>
<p>NOTE: At this time, this will continue going until a message with the specified ID is found. It has no built-in timeout. If you need to stop, use Keyboard Interrupt (CTRL+C).</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>IDArrayIn</code></td>
          <td>
                <code>list</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List of ID's to scan for.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>list</code></td>          <td>
                <code>list</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Array of Messsage Information Arrays [ [ID, Data, Timestamp] ... ].</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>drivers\readers.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">continualCanScanOnIDSet</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">IDArrayIn</span><span class="p">:</span> <span class="nb">list</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39; Will get the all available messages in the CAN message buffer for the given ID set. This method is preferred when continually searching for multiple ID&#39;s because it will keep the BUS, channel, reader, and notifier open UNTIL a message is found, versus opening and closing it for every message. </span>

<span class="sd">    NOTE: At this time, this will continue going until a message with the specified ID is found. It has no built-in timeout. If you need to stop, use Keyboard Interrupt (CTRL+C).</span>

<span class="sd">    Args:</span>
<span class="sd">        IDArrayIn (list): List of ID&#39;s to scan for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: Array of Messsage Information Arrays [ [ID, Data, Timestamp] ... ].</span>
<span class="sd">    &#39;&#39;&#39;</span>        
    <span class="c1"># Get the next message and decode it</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1">#Create an array for storage of data arrays</span>
        <span class="n">outputCanArray</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1">#Continue to iterate until keyboard interrupt is received</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                <span class="c1"># Grab the message from the buffer that has been there the longest (FIFO)</span>
                <span class="c1"># [https://python-can.readthedocs.io/en/stable/listeners.html#can.BufferedReader.get_message]</span>
                <span class="n">currentMessage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bufferReader</span><span class="o">.</span><span class="n">get_message</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

                <span class="c1"># Check if the message ID is in the wanted ID array</span>
                <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">)</span> <span class="ow">in</span> <span class="n">IDArrayIn</span><span class="p">:</span>
                    <span class="c1"># Decode the message into usable information</span>
                    <span class="c1"># [https://cantools.readthedocs.io/en/latest/#cantools.database.can.Database.decode_message]</span>
                    <span class="n">decodedData</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbc</span><span class="o">.</span><span class="n">decode_message</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">,</span> <span class="n">currentMessage</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="c1">#Decodes using .dbc</span>

                    <span class="c1"># Add the decoded data and message information to a message-specific array, and store it inside output array</span>
                    <span class="n">outputCanArray</span><span class="o">.</span><span class="n">append</span><span class="p">([[</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">,</span> <span class="n">decodedData</span><span class="p">,</span> <span class="n">currentMessage</span><span class="o">.</span><span class="n">timestamp</span><span class="p">]])</span>
                    <span class="c1"># Print the decoded data and message information to the terminal</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;---------- ID: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; ----------&quot;</span><span class="p">)</span>

                    <span class="k">for</span> <span class="n">signalName</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">decodedData</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Signal: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">signalName</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;---------- TIME: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">timestamp</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; ----------&quot;</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">()</span>

        <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: KEYBOARD INTERRUPT DETECTED. HALTING SCAN EXECUTION.&quot;</span><span class="p">)</span>

    <span class="c1"># If there is an error reading a message, this Exception is thrown</span>
    <span class="c1"># [https://python-can.readthedocs.io/en/stable/errors.html#can.exceptions.CanOperationError]</span>
    <span class="k">except</span> <span class="n">CanOperationError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: THERE WAS AN ERROR READING FROM THE BUS.&quot;</span><span class="p">)</span>

    <span class="c1"># Return decoded data</span>
    <span class="k">return</span> <span class="n">outputCanArray</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="drivers.readers.ACReader.encodeitlol" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">encodeitlol</span><span class="p">(</span><span class="n">IDIn</span><span class="p">,</span> <span class="n">signalDictIn</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>A quick support method for encoding an arbitration ID and signal dictionary into a CAN message.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>IDIn</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The CAN Arbitration ID.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>signalDictIn</code></td>
          <td>
                <code>dict</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A dictionary of signal-value pairs.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>Message</code></td>          <td>
                <code><span title="can.Message">Message</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Encoded CAN Message including the arbitration ID and signal dictionary.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>drivers\readers.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">encodeitlol</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">IDIn</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span> <span class="n">signalDictIn</span><span class="p">:</span><span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Message</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39; A quick support method for encoding an arbitration ID and signal dictionary into a CAN message.</span>

<span class="sd">    Args:</span>
<span class="sd">        IDIn (int): The CAN Arbitration ID.</span>
<span class="sd">        signalDictIn (dict): A dictionary of signal-value pairs.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Message: Encoded CAN Message including the arbitration ID and signal dictionary.</span>
<span class="sd">    &#39;&#39;&#39;</span>            
    <span class="c1"># Encode data into byte array for CAN communication using the DBC file</span>
    <span class="c1"># [https://cantools.readthedocs.io/en/latest/#cantools.database.can.Database.encode_message]</span>
    <span class="n">encodedData</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbc</span><span class="o">.</span><span class="n">encode_message</span><span class="p">(</span><span class="n">IDIn</span><span class="p">,</span> <span class="n">signalDictIn</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">encodedData</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="drivers.readers.ACReader.getSdoResponse" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">getSdoResponse</span><span class="p">(</span><span class="n">doPrint</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Will scan the bus for any message with the SDO response ID, used for all SDO responses to all commands.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>doPrint</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Determines if response output should be printed to the terminal. Defaults to True.</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>list</code></td>          <td>
                <code>list</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List containing SDO response information including raw message, type identifier, and payload.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>drivers\readers.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">getSdoResponse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">doPrint</span><span class="p">:</span><span class="nb">bool</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39; Will scan the bus for any message with the SDO response ID, used for all SDO responses to all commands.</span>

<span class="sd">    Args:</span>
<span class="sd">        doPrint (bool, optional): Determines if response output should be printed to the terminal. Defaults to True.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: List containing SDO response information including raw message, type identifier, and payload.</span>
<span class="sd">    &#39;&#39;&#39;</span>        

    <span class="c1"># Response on ID 1461 (response ID: Hex 05b5)</span>
    <span class="n">rawResponse</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">singleCanScanOnID</span><span class="p">(</span><span class="n">IDIn</span><span class="o">=</span><span class="mi">1461</span><span class="p">)</span>
    <span class="n">rawResponseDict</span> <span class="o">=</span> <span class="n">rawResponse</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="c1"># If the value is 96 in decimal, then successful write has been performed</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">rawResponseDict</span><span class="p">[</span><span class="s1">&#39;SDO_VCM_Response_CMD&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">96</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">doPrint</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Write Success Has Been Detected!&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">rawResponse</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">,</span> <span class="s1">&#39;writesuccess&#39;</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">[</span><span class="s2">&quot;SDO_VCM_Response_Payload&quot;</span><span class="p">]]</span>

    <span class="c1"># If the value is 67 in decimal, then successful read has been performed</span>
    <span class="k">elif</span> <span class="p">(</span><span class="n">rawResponseDict</span><span class="p">[</span><span class="s1">&#39;SDO_VCM_Response_CMD&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">67</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">doPrint</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Read Success Has Been Detected With 4-Byte Payload!&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The value of&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dotParser</span><span class="o">.</span><span class="n">getParameterNameFromDecId</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">rawResponseDict</span><span class="p">[</span><span class="s2">&quot;SDO_VCM_Response_Index&quot;</span><span class="p">])),</span> <span class="s2">&quot;is currently&quot;</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">[</span><span class="s2">&quot;SDO_VCM_Response_Payload&quot;</span><span class="p">])</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">rawResponse</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">,</span> <span class="s1">&#39;readsuccess&#39;</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">[</span><span class="s2">&quot;SDO_VCM_Response_Payload&quot;</span><span class="p">]]</span>

    <span class="c1"># If the value is 71 in decimal, then successful read has been performed</span>
    <span class="k">elif</span> <span class="p">(</span><span class="n">rawResponseDict</span><span class="p">[</span><span class="s1">&#39;SDO_VCM_Response_CMD&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">71</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">doPrint</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Read Success Has Been Detected With 3-Byte Payload!&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The value of&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dotParser</span><span class="o">.</span><span class="n">getParameterNameFromDecId</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">rawResponseDict</span><span class="p">[</span><span class="s2">&quot;SDO_VCM_Response_Index&quot;</span><span class="p">])),</span> <span class="s2">&quot;is currently&quot;</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">[</span><span class="s2">&quot;SDO_VCM_Response_Payload&quot;</span><span class="p">])</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">rawResponse</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">,</span> <span class="s1">&#39;readsuccess&#39;</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">[</span><span class="s2">&quot;SDO_VCM_Response_Payload&quot;</span><span class="p">]]</span>

    <span class="c1"># If the value is 75 in decimal, then successful read has been performed</span>
    <span class="k">elif</span> <span class="p">(</span><span class="n">rawResponseDict</span><span class="p">[</span><span class="s1">&#39;SDO_VCM_Response_CMD&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">75</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">doPrint</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Read Success Has Been Detected With 2-Byte Payload!&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The value of&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dotParser</span><span class="o">.</span><span class="n">getParameterNameFromDecId</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">rawResponseDict</span><span class="p">[</span><span class="s2">&quot;SDO_VCM_Response_Index&quot;</span><span class="p">])),</span> <span class="s2">&quot;is currently&quot;</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">[</span><span class="s2">&quot;SDO_VCM_Response_Payload&quot;</span><span class="p">])</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">rawResponse</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">,</span> <span class="s1">&#39;readsuccess&#39;</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">[</span><span class="s2">&quot;SDO_VCM_Response_Payload&quot;</span><span class="p">]]</span>

    <span class="c1"># If the value is 79 in decimal, then successful read has been performed</span>
    <span class="k">elif</span> <span class="p">(</span><span class="n">rawResponseDict</span><span class="p">[</span><span class="s1">&#39;SDO_VCM_Response_CMD&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">79</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">doPrint</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Read Success Has Been Detected With 1-Byte Payload!&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The value of&quot;</span><span class="p">,</span>  <span class="bp">self</span><span class="o">.</span><span class="n">dotParser</span><span class="o">.</span><span class="n">getParameterNameFromDecId</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">rawResponseDict</span><span class="p">[</span><span class="s2">&quot;SDO_VCM_Response_Index&quot;</span><span class="p">])),</span> <span class="s2">&quot;is currently&quot;</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">[</span><span class="s2">&quot;SDO_VCM_Response_Payload&quot;</span><span class="p">])</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">rawResponse</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">,</span> <span class="s1">&#39;readsuccess&#39;</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">[</span><span class="s2">&quot;SDO_VCM_Response_Payload&quot;</span><span class="p">]]</span>

    <span class="c1"># If the value is 128 in decimal, then write failed</span>
    <span class="k">elif</span> <span class="p">(</span><span class="n">rawResponseDict</span><span class="p">[</span><span class="s1">&#39;SDO_VCM_Response_CMD&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">128</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">doPrint</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Message Failure Has Been Detected!&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">rawResponse</span><span class="p">,</span> <span class="n">rawResponseDict</span><span class="p">,</span> <span class="s1">&#39;failure&#39;</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="drivers.readers.ACReader.loadDotParser" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">loadDotParser</span><span class="p">(</span><span class="n">dotParser</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>This method is designed to load a DOT parser object into the writer instance for use with SDO messages. Specifically, it is used in singleSdoWrite() to lookup a hex index for a given SDO parameter name.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>dotParser</code></td>
          <td>
                <code>dotParse</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The dotAutoParse dotParse() object to use as for instance dot parsing.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>bool</code></td>          <td>
                <code>True</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>True if method completed without error, False otherwise.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>drivers\readers.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">loadDotParser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dotParser</span><span class="p">:</span><span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">True</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;This method is designed to load a DOT parser object into the writer instance for use with SDO messages. Specifically, it is used in singleSdoWrite() to lookup a hex index for a given SDO parameter name.</span>

<span class="sd">    Args:</span>
<span class="sd">        dotParser (dotParse): The dotAutoParse dotParse() object to use as for instance dot parsing.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if method completed without error, False otherwise.</span>
<span class="sd">    &#39;&#39;&#39;</span>        
    <span class="bp">self</span><span class="o">.</span><span class="n">dotParser</span> <span class="o">=</span> <span class="n">dotParser</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="drivers.readers.ACReader.singleCanScanOnBus" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">singleCanScanOnBus</span><span class="p">()</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Gets the next available message in the CAN message buffer.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>list</code></td>          <td>
                <code>list</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Messsage Information Array [ID, Data, Timestamp]</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>drivers\readers.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">singleCanScanOnBus</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39; Gets the next available message in the CAN message buffer.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: Messsage Information Array [ID, Data, Timestamp]</span>
<span class="sd">    &#39;&#39;&#39;</span>        
    <span class="c1"># Get the next available message and decode it</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Grab the message from the buffer that has been there the longest (FIFO)</span>
        <span class="c1"># [https://python-can.readthedocs.io/en/stable/listeners.html#can.BufferedReader.get_message]</span>
        <span class="n">currentMessage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bufferReader</span><span class="o">.</span><span class="n">get_message</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
        <span class="c1"># Decode the message into usable information</span>
        <span class="c1"># [https://cantools.readthedocs.io/en/latest/#cantools.database.can.Database.decode_message]</span>
        <span class="n">decodedData</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbc</span><span class="o">.</span><span class="n">decode_message</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">,</span> <span class="n">currentMessage</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="c1">#Decodes using .dbc</span>

    <span class="c1"># If there is an error reading a message, this Exception is thrown</span>
    <span class="c1"># [https://python-can.readthedocs.io/en/stable/errors.html#can.exceptions.CanOperationError]</span>
    <span class="k">except</span> <span class="n">CanOperationError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: THERE WAS AN ERROR READING FROM THE BUS.&quot;</span><span class="p">)</span>

    <span class="c1"># Return decoded data</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">,</span> <span class="n">decodedData</span><span class="p">,</span> <span class="n">currentMessage</span><span class="o">.</span><span class="n">timestamp</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="drivers.readers.ACReader.singleCanScanOnID" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">singleCanScanOnID</span><span class="p">(</span><span class="n">IDIn</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Will get the next available message in the CAN message buffer for the given ID. This method is preferred when searching for an ID because it will keep the BUS, channel, reader, and notifier open UNTIL the message is found, versus opening and closing it for every message. </p>
<p>NOTE: At this time, this will continue going until a message with the specified ID is found. It has no built-in timeout. If you need to stop, use Keyboard Interrupt (CTRL+C).</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>IDIn</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The ID to scan for on the CAN Bus Buffer.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>list</code></td>          <td>
                <code>list</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Messsage Information Array [ID, Data, Timestamp]</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>drivers\readers.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">singleCanScanOnID</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">IDIn</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39; Will get the next available message in the CAN message buffer for the given ID. This method is preferred when searching for an ID because it will keep the BUS, channel, reader, and notifier open UNTIL the message is found, versus opening and closing it for every message. </span>

<span class="sd">    NOTE: At this time, this will continue going until a message with the specified ID is found. It has no built-in timeout. If you need to stop, use Keyboard Interrupt (CTRL+C).</span>

<span class="sd">    Args:</span>
<span class="sd">        IDIn (int): The ID to scan for on the CAN Bus Buffer.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: Messsage Information Array [ID, Data, Timestamp]</span>
<span class="sd">    &#39;&#39;&#39;</span>        
    <span class="c1"># Get the next message and decode it</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Grab the message from the buffer that has been there the longest (FIFO)</span>
        <span class="c1"># [https://python-can.readthedocs.io/en/stable/listeners.html#can.BufferedReader.get_message]</span>
        <span class="n">currentMessage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bufferReader</span><span class="o">.</span><span class="n">get_message</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

        <span class="c1"># Set a flag to use</span>
        <span class="n">messageFoundFlag</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="c1"># While the correct message has not been found</span>
        <span class="k">while</span> <span class="n">messageFoundFlag</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
            <span class="c1"># Check if the message ID matches the wanted ID</span>
            <span class="k">if</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">)</span> <span class="o">==</span> <span class="nb">int</span><span class="p">(</span><span class="n">IDIn</span><span class="p">)):</span>
                <span class="c1">#Set the message found flag to true so it stops iterating</span>
                <span class="n">messageFoundFlag</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="c1"># If the ID does not match, then get next message and iterate again</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">currentMessage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bufferReader</span><span class="o">.</span><span class="n">get_message</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="c1"># Decode the message into usable information</span>
        <span class="c1"># [https://cantools.readthedocs.io/en/latest/#cantools.database.can.Database.decode_message]</span>
        <span class="n">decodedData</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbc</span><span class="o">.</span><span class="n">decode_message</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">,</span> <span class="n">currentMessage</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="c1">#Decodes using .dbc</span>

    <span class="c1"># If there is an error reading a message, this Exception is thrown</span>
    <span class="c1"># [https://python-can.readthedocs.io/en/stable/errors.html#can.exceptions.CanOperationError]</span>
    <span class="k">except</span> <span class="n">CanOperationError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: THERE WAS AN ERROR READING FROM THE BUS.&quot;</span><span class="p">)</span>

    <span class="c1"># Return decoded data</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">,</span> <span class="n">decodedData</span><span class="p">,</span> <span class="n">currentMessage</span><span class="o">.</span><span class="n">timestamp</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="drivers.readers.ACReader.singleCanScanOnIDSet" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">singleCanScanOnIDSet</span><span class="p">(</span><span class="n">IDArrayIn</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Will get the next available message in the CAN message buffer for any of the given ID's. This method is preferred when searching for a message from a set of ID's because it will keep the BUS, channel, reader, and notifier open UNTIL the message is found, versus opening and closing it for every message. </p>
<p>NOTE: At this time, this will continue going until a message with the specified ID is found. It has no built-in timeout. If you need to stop, use Keyboard Interrupt (CTRL+C).</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>IDArrayIn</code></td>
          <td>
                <code>list[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List of ID's to scan for.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>list</code></td>          <td>
                <code>list</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Messsage Information Array [ID, Data, Timestamp].</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>drivers\readers.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">singleCanScanOnIDSet</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">IDArrayIn</span><span class="p">:</span> <span class="nb">list</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39; Will get the next available message in the CAN message buffer for any of the given ID&#39;s. This method is preferred when searching for a message from a set of ID&#39;s because it will keep the BUS, channel, reader, and notifier open UNTIL the message is found, versus opening and closing it for every message. </span>

<span class="sd">    NOTE: At this time, this will continue going until a message with the specified ID is found. It has no built-in timeout. If you need to stop, use Keyboard Interrupt (CTRL+C).</span>

<span class="sd">    Args:</span>
<span class="sd">        IDArrayIn (list[int]): List of ID&#39;s to scan for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: Messsage Information Array [ID, Data, Timestamp].</span>
<span class="sd">    &#39;&#39;&#39;</span>        
    <span class="c1"># Get the next message and decode it</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Grab the message from the buffer that has been there the longest (FIFO)</span>
        <span class="c1"># [https://python-can.readthedocs.io/en/stable/listeners.html#can.BufferedReader.get_message]</span>
        <span class="n">currentMessage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bufferReader</span><span class="o">.</span><span class="n">get_message</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

        <span class="c1"># Set a flag to use</span>
        <span class="n">messageFoundFlag</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="c1"># While the correct message has not been found</span>
        <span class="k">while</span> <span class="n">messageFoundFlag</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
            <span class="c1"># Check if the message ID is in the wanted ID array</span>
            <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">)</span> <span class="ow">in</span> <span class="n">IDArrayIn</span><span class="p">:</span>
                <span class="c1">#Set the message found flag to true so it stops iterating</span>
                <span class="n">messageFoundFlag</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="c1"># If the ID does not match, then get next message and iterate again</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">currentMessage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bufferReader</span><span class="o">.</span><span class="n">get_message</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

        <span class="c1"># Decode the message into usable information</span>
        <span class="c1"># [https://cantools.readthedocs.io/en/latest/#cantools.database.can.Database.decode_message]</span>
        <span class="n">decodedData</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbc</span><span class="o">.</span><span class="n">decode_message</span><span class="p">(</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">,</span> <span class="n">currentMessage</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="c1">#Decodes using .dbc</span>

    <span class="c1"># If there is an error reading a message, this Exception is thrown</span>
    <span class="c1"># [https://python-can.readthedocs.io/en/stable/errors.html#can.exceptions.CanOperationError]</span>
    <span class="k">except</span> <span class="n">CanOperationError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: THERE WAS AN ERROR READING FROM THE BUS.&quot;</span><span class="p">)</span>

    <span class="c1"># Return decoded data</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">currentMessage</span><span class="o">.</span><span class="n">arbitration_id</span><span class="p">,</span> <span class="n">decodedData</span><span class="p">,</span> <span class="n">currentMessage</span><span class="o">.</span><span class="n">timestamp</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="drivers.readers.ACReader.singleSdoRead" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">singleSdoRead</span><span class="p">(</span><span class="n">mainId</span><span class="p">,</span> <span class="n">subId</span><span class="o">=</span><span class="s1">&#39;00&#39;</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Will perform a read command to the VCM over the CAN Bus for a given SDO ID.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>mainId</code></td>
          <td>
                <code>str or int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The SDO ID to read on the VCM [NOT the CAN Arbitration ID].</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>subId</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The sub index. Optional. Defaults to "00".</p>
            </div>
          </td>
          <td>
                <code>&#39;00&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>bool</code></td>          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Return value of getSdoResponse() == List containing SDO response information including raw message, type identifier, and payload.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>drivers\readers.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">singleSdoRead</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mainId</span><span class="p">:</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="n">subId</span><span class="p">:</span><span class="nb">str</span><span class="o">=</span><span class="s2">&quot;00&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Will perform a read command to the VCM over the CAN Bus for a given SDO ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        mainId (str or int): The SDO ID to read on the VCM [NOT the CAN Arbitration ID].</span>
<span class="sd">        subId (str, optional): The sub index. Optional. Defaults to &quot;00&quot;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: Return value of getSdoResponse() == List containing SDO response information including raw message, type identifier, and payload.</span>
<span class="sd">    &quot;&quot;&quot;</span>        
    <span class="c1"># Import writer</span>
    <span class="kn">from</span> <span class="nn">writers</span> <span class="kn">import</span> <span class="n">ACWriter</span>
    <span class="n">localWriter</span> <span class="o">=</span> <span class="n">ACWriter</span><span class="p">(</span><span class="n">busIn</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bus</span><span class="p">)</span>

    <span class="c1"># Redefine the ID to be a string for checking</span>
    <span class="n">strId</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">mainId</span><span class="p">)</span>

    <span class="c1"># Initialize a blank splitHexId for Endian conversion</span>
    <span class="n">hexId</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="c1"># Initialize a blank finalId for post-conversion</span>
    <span class="n">finalPayload</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="c1"># If the id begins with &#39;0x&#39;, it is hex ID</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">strId</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">strId</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;x&#39;</span><span class="p">):</span>
        <span class="n">hexId</span> <span class="o">=</span> <span class="n">strId</span>

    <span class="c1"># If the id is all numbers, it is decimal</span>
    <span class="k">elif</span> <span class="p">(</span><span class="n">strId</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()):</span>
        <span class="c1"># Convert to int and save</span>
        <span class="n">hexId</span> <span class="o">=</span> <span class="nb">hex</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">strId</span><span class="p">))</span>

    <span class="c1"># Else, it is a parameter name, so call for hex ID</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># If the DOT parser has not been loaded, tell user to load it first</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dotParser</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CC Anti-Canape: Please load DOT parser before writing using parameter names!&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="c1"># If the DOT parser has been loaded, use it to find hex ID</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">hexId</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dotParser</span><span class="o">.</span><span class="n">getHexIdFromParameterName</span><span class="p">(</span><span class="n">strId</span><span class="p">)</span>

    <span class="c1"># Add initial write command identifier to payload</span>
    <span class="n">finalPayload</span> <span class="o">+=</span> <span class="s2">&quot;43&quot;</span>

    <span class="c1"># Convert to Little Endian and add to final payload </span>
    <span class="n">finalPayload</span> <span class="o">+=</span> <span class="n">hexId</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
    <span class="n">finalPayload</span> <span class="o">+=</span> <span class="n">hexId</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
    <span class="n">finalPayload</span> <span class="o">+=</span> <span class="n">hexId</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">finalPayload</span> <span class="o">+=</span> <span class="n">hexId</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>

    <span class="c1"># Add the sub index to the final payload</span>
    <span class="n">finalPayload</span> <span class="o">+=</span> <span class="n">subId</span>

    <span class="c1"># Add empty payload to the final payload</span>
    <span class="n">finalPayload</span> <span class="o">+=</span> <span class="s2">&quot;00000000&quot;</span>

    <span class="c1"># Send the SDO Message</span>
    <span class="n">localWriter</span><span class="o">.</span><span class="n">singleCanWriteRawOnID</span><span class="p">(</span><span class="n">IDIn</span><span class="o">=</span><span class="mi">1589</span><span class="p">,</span> <span class="nb">bytes</span><span class="o">=</span><span class="n">finalPayload</span><span class="p">)</span>

    <span class="c1"># Return True if it has made it this far</span>
    <span class="k">return</span> <span class="kc">True</span>
    <span class="c1"># Import writer</span>
    <span class="kn">from</span> <span class="nn">writers</span> <span class="kn">import</span> <span class="n">ACWriter</span>
    <span class="n">localWriter</span> <span class="o">=</span> <span class="n">ACWriter</span><span class="p">(</span><span class="n">busIn</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bus</span><span class="p">)</span>

    <span class="c1"># Redefine the ID to be a string for checking</span>
    <span class="n">strId</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">mainId</span><span class="p">)</span>

    <span class="c1"># Initialize a blank splitHexId for Endian conversion</span>
    <span class="n">hexId</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="c1"># Initialize a blank finalId for post-conversion</span>
    <span class="n">finalPayload</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="c1"># If the id begins with &#39;0x&#39;, it is hex ID</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">strId</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">strId</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;x&#39;</span><span class="p">):</span>
        <span class="n">hexId</span> <span class="o">=</span> <span class="n">strId</span>

    <span class="c1"># Else, it must be the decimal version</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Convert to int and save</span>
        <span class="n">hexId</span> <span class="o">=</span> <span class="nb">hex</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">strId</span><span class="p">))</span>

    <span class="c1"># Add initial write command identifier to payload</span>
    <span class="n">finalPayload</span> <span class="o">+=</span> <span class="s2">&quot;43&quot;</span>

    <span class="c1"># Convert to Little Endian and add to final payload </span>
    <span class="n">finalPayload</span> <span class="o">+=</span> <span class="n">hexId</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
    <span class="n">finalPayload</span> <span class="o">+=</span> <span class="n">hexId</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
    <span class="n">finalPayload</span> <span class="o">+=</span> <span class="n">hexId</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">finalPayload</span> <span class="o">+=</span> <span class="n">hexId</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>

    <span class="c1"># Add the sub index to the final payload</span>
    <span class="n">finalPayload</span> <span class="o">+=</span> <span class="n">subId</span>

    <span class="c1"># Add empty payload to the final payload</span>
    <span class="n">finalPayload</span> <span class="o">+=</span> <span class="s2">&quot;00000000&quot;</span>

    <span class="c1"># Return the return value</span>
    <span class="n">localWriter</span><span class="o">.</span><span class="n">constantCanWriteRawOnID</span><span class="p">(</span><span class="n">IDIn</span><span class="o">=</span><span class="mi">1589</span><span class="p">,</span> <span class="nb">bytes</span><span class="o">=</span><span class="n">finalPayload</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="n">period</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="n">duration</span><span class="p">)</span>
    <span class="k">return</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getSdoResponse</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.81fa17fe.min.js"></script>
      
    
  </body>
</html>